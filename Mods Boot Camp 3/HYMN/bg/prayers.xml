<Layer Type="ActorFrame"><children>
	
	<Layer Type="ActorFrame" NameCommand="%function(self) hymn_bg_container = self end"
	OnCommand="playcommand,Name;x,SCREEN_WIDTH/2;y,SCREEN_HEIGHT/2" ><children>
		
		<Layer File="just_skybox2"
			NameCommand="%function(self) hymn_introbg2 = self end"
			OnCommand="playcommand,Name;scaletocover,-SCREEN_WIDTH/2-50,-SCREEN_HEIGHT/2-50,SCREEN_WIDTH/2+50,SCREEN_HEIGHT/2+50;diffuse,.4,.4,.4,1;"
		/>
		<Layer File="stars" NameCommand="%function(self) hymn_stars = self end"
		OnCommand="playcommand,Name;customtexturerect,0,0,3,3;zoom,3;basezoomx,SCREEN_WIDTH/640;blend,add;diffusealpha,.5;fadebottom,0.5;cropbottom,0.5;texcoordvelocity,0,-.01;"
		/>
		
		<Layer
			File="n_cloud1" NameCommand="%function(self) hymn_clouds2 = self end"
			OnCommand="customtexturerect,0,0,1,1;texcoordvelocity,0,0.003;fadeleft,.1;y,-160;zoomx,1200*1.2/512;zoomy,480*1.2/256;rotationz,-90;diffuse,0+.5,.03+.5,.06+.5,0.6;"
		/>
		
		<Layer File="../lua/noisemed" OnCommand="hidden,1;" InitCommand="%function(self) sampler_1 = self end" />
		<Layer File="../lua/bubbles" OnCommand="hidden,1;" InitCommand="%function(self) sampler_2 = self end" />
		
		<Layer
			Shader="../lua/kuutrain.frag"
			Type="Sprite"
			OnCommand="%function(self)
				hymn_kuutrain = self:GetShader()
				hymn_kuutrain:uniformTexture( 'sampler1', sampler_1:GetTexture() )
				hymn_kuutrain:uniformTexture( 'sampler2', sampler_2:GetTexture() )
				hymn_kuutrain:uniform1f('much',0.5)
			end"
		/>
		
		<Layer Type="ActorFrame" NameCommand="%function(self) hymn_treeline3 = self end"
		OnCommand="playcommand,Name;zoom,376/1364;y,170" ><children>
			<Layer File="trees1" OnCommand="x,-1100;diffuse,.6*238/255,.6*77/255,.6*135/255,1;" />
			<Layer File="trees1" OnCommand="x,0;diffuse,.6*238/255,.6*77/255,.6*135/255,1;" />
			<Layer File="trees1" OnCommand="x,1100;diffuse,.6*238/255,.6*77/255,.6*135/255,1;" />
			<Layer Type="Quad" OnCommand="stretchto,-2000,127,2000,2000;diffuse,.6*238/255,.6*77/255,.6*135/255,1;" />
		</children></Layer>
		
		<Layer Type="ActorFrame" NameCommand="%function(self) hymn_treeline2 = self end"
		OnCommand="playcommand,Name;zoom,570/1364;basezoomx,-1;y,190" ><children>
			<Layer File="trees1" OnCommand="x,-550;diffuse,.3*238/255,.3*77/255,.3*135/255,1;" />
			<Layer File="trees1" OnCommand="x,550;diffuse,.3*238/255,.3*77/255,.3*135/255,1;" />
			<Layer Type="Quad" OnCommand="stretchto,-2000,127,2000,2000;diffuse,.3*238/255,.3*77/255,.3*135/255,1;" />
		</children></Layer>
		
		<Layer Type="ActorFrame" NameCommand="%function(self) hymn_treeline1 = self end"
		OnCommand="playcommand,Name;zoom,709/1364;y,230" ><children>
			<Layer File="trees1" OnCommand="x,0;diffuse,0,0,0,1;" />
			<Layer File="trees1" OnCommand="x,-1100;diffuse,0,0,0,1;" />
			<Layer File="trees1" OnCommand="x,1100;diffuse,0,0,0,1;" />
			<Layer Type="Quad" OnCommand="stretchto,-2000,127,2000,2000;diffuse,0,0,0,1;" />
		</children></Layer>
		
		<Layer File="../lua/ame01" NameCommand="%function(self) hymn_rainfall1=self end" OnCommand="playcommand,Name;blend,add;x,0;y,0;wag;effectmagnitude,0,0,5;effectperiod,8;
		customtexturerect,0,0,5,5;zoom,3*(SCREEN_WIDTH/640);zoomx,-3*(SCREEN_WIDTH/640);texcoordvelocity,0,-4;skewx,0.3;diffusealpha,.2;"
		HideCommand="hidden,1" RainAwayCommand="linear,1;diffusealpha,0;queuecommand,Hide" />
		
		<Layer Type="ActorFrame" OnCommand="%function (self) char_laer=self; self:x(-200) self:bob(); self:basezoomx(.25); self:basezoomy(.25);
		self:effectclock('music'); self:effectmagnitude(0,4,0); self:zoom(0); self:zoomx(3) end" HideQCommand="zoomy,0;zoomx,3;"
		HideCommand="bouncebegin,0.2;zoomy,0;zoomx,3;" SpawnCommand="bounceend,0.3;zoom,1;" SpawnQCommand="zoom,1;"
		CastShrinkCommand="bouncebegin,(240/150);zoom,.5" SpawnSmallCommand="bounceend,0.3;zoom,.5" CastGrowCommand="sleep,(240/150);zoom,1"> <children>
		
			<Actor
				File="chara/laer/idle.sprite"
				NameCommand="%function(self) char_laer_idle = self end"
				OnCommand="playcommand,Name;diffusealpha,.7;basezoomx,700/400;basezoomy,700/400;"
				IdleCommand="diffuse,1,1,1,1"
				AttackCommand="diffusealpha,0"
				HurtCommand="diffusealpha,0"
				CastCommand="diffusealpha,0"
				Cast2Command="diffusealpha,0"
				BlackFlashCommand="diffuse,0,0,0,1;zoom,1;linear,180/200;diffuse,0,0,0,0;zoom,1.5;sleep,0;zoom,1;"
				FadingCommand="linear,5;diffusealpha,0"
			/>
			<Actor
				File="chara/laer/blink.sprite"
				NameCommand="%function(self) char_laer_blink = self end"
				OnCommand="playcommand,Name;diffusealpha,.7;basezoomx,700/400;basezoomy,700/400;"
				IdleCommand="diffuse,1,1,1,1"
				AttackCommand="diffusealpha,0"
				HurtCommand="diffusealpha,0"
				CastCommand="diffusealpha,0"
				Cast2Command="diffusealpha,0"
				BlackFlashCommand="diffuse,0,0,0,1;zoom,1;linear,180/200;diffuse,0,0,0,0;zoom,1.5;sleep,0;zoom,1;"
				FadingCommand="linear,5;diffusealpha,0"
			/>
			
		</children>	</Layer>
		
	</children></Layer>
	
</children></Layer>