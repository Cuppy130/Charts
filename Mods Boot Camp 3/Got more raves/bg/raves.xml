<Layer Type="ActorFrame"><children>
	
	<Layer File="ayazebg" OnCommand="stretchto,0,0,sw,sh;hidden,1;diffusealpha,0;" HideCommand="hidden,1" AyaBGOnMessageCommand="hidden,0;linear,0;diffusealpha,1;" AyaBGOffMessageCommand="linear,spb*6;diffusealpha,0;queuecommand,Hide" />
	
	<Layer File="ayaP1" InitCommand="%function(self) self:SetTextureFiltering(false) end" OnCommand="animate,0;xy,scx,scy-50;zoom,1.5;diffuse,.6,.4,1,.6;hidden,1;"
	AyaP1MessageCommand="setstate,0;hidden,0;sleep,60/222.222;queuecommand,2;"
	2Command="setstate,1;sleep,60/222.222;queuecommand,3;"
	3Command="setstate,2;sleep,60/222.222;queuecommand,4;"
	4Command="setstate,3;sleep,60/222.222;queuecommand,5;"
	5Command="setstate,4;sleep,60/222.222;queuecommand,6;"
	6Command="setstate,5;sleep,60/222.222;queuecommand,7;"
	7Command="hidden,1;queuemessage,AyaSplash"
	/>
	<Layer File="ayaP2" InitCommand="%function(self) self:SetTextureFiltering(false) end" OnCommand="animate,0;xy,scx,scy-50;zoom,1.5;diffuse,.6,.4,1,.6;hidden,1;"
	AyaP2MessageCommand="setstate,0;hidden,0;sleep,60/222.222;queuecommand,2;"
	2Command="setstate,1;sleep,60/222.222;queuecommand,3;"
	3Command="setstate,2;sleep,60/222.222;queuecommand,4;"
	4Command="setstate,3;sleep,60/222.222;queuecommand,5;"
	5Command="setstate,4;sleep,60/222.222;queuecommand,6;"
	6Command="setstate,5;sleep,60/222.222;queuecommand,7;"
	7Command="hidden,1;queuemessage,AyaSplash"
	/>
	
	<Layer File="aya2" InitCommand="%function(self) self:SetTextureFiltering(false) end" OnCommand="hidden,1;xy,scx,scy-50;zoom,1.5;" HideCommand="hidden,1;"
		AyaSplashMessageCommand="stoptweening;hidden,0;diffusealpha,1;zoom,1.5;linear,.4;zoom,2;diffusealpha,0;queuecommand,Hide;"
	/>
	
	<Layer Type="ActorFrame" InitCommand="%function(self) self:fov(60) self:SetFarDist(1000000) end" OnCommand="xy,scx,scy;"
	AyaBGOnMessageCommand="playcommand,G;linear,spb*48;addy,48*400;addz,48*400;" ><children>
	<Layer Type="Polygon"
		DrawMode="quads"
		NameCommand="%function(self) groove_grid = self end" HideCommand="hidden,1"
		OnCommand="playcommand,Name;blend,add;hidden,1;diffuse,.25,.1,0,0;hidden,0;x,0;y,2000;z,-30000;zoom,4000;zoomz,4000;rotationx,134;queuecommand,Make"
		GCommand="hidden,0;linear,spb*4;diffusealpha,.3;" AyaGridOffMessageCommand="linear,spb*6;diffusealpha,0;queuecommand,Hide"
		MakeCommand="%function(self)
			
			local diam = 24;
			
			self:SetNumVertices(diam*diam*4)
			
			self:cullmode('none');
			
			self:SetPolygonMode(1)
			
			for i=0,diam*diam-1 do
				local x = math.mod(i,diam) - diam/2
				local x2 = math.mod(i+1,diam) - diam/2
				local y = math.floor(i/diam) - diam/2
				local y2 = (math.floor(i/diam)+1) - diam/2
				
				local z1 = 0.2*math.sin(y*math.pi*0.4) + 0.2*math.cos(x*math.pi*0.4)
				local z2 = 0.2*math.sin(y*math.pi*0.4) + 0.2*math.cos(x2*math.pi*0.4)
				local z3 = 0.2*math.sin(y2*math.pi*0.4) + 0.2*math.cos(x2*math.pi*0.4)
				local z4 = 0.2*math.sin(y2*math.pi*0.4) + 0.2*math.cos(x*math.pi*0.4)
				
				self:SetVertexPosition(i*4+0,x,y,0)
				self:SetVertexPosition(i*4+1,x+1,y,0)
				self:SetVertexPosition(i*4+2,x+1,y+1,0)
				self:SetVertexPosition(i*4+3,x,y+1,0)
				
			end
			
		end"
	/>
	</children></Layer>
	
</children></Layer>