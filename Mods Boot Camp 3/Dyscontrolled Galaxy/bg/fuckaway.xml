<ActorFrame> <children>
	
	<Layer Type="ActorFrame" NameCommand="%function(self) dys_citybg = self end" OnCommand="playcommand,Name;hidden,0;" ><children>
		<Layer File="skygrad" NameCommand="%function(self) dys_citysky = self end" OnCommand="stretchto,0,0,SCREEN_WIDTH,SCREEN_HEIGHT;" />
		<Layer File="skydark" NameCommand="%function(self) dys_skydark = self end" OnCommand="stretchto,0,0,SCREEN_WIDTH,SCREEN_HEIGHT;diffusealpha,0;" />
		<Layer File="stars" NameCommand="%function(self) dys_stars = self end"
		OnCommand="blend,add;diffusealpha,0;basezoomx,SCREEN_WIDTH/640;basezoomy,SCREEN_HEIGHT/480;zoom,3;customtexturerect,0,0,3,3;x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y;texcoordvelocity,0,0;" />
		
		<!--here's one from ken-->
		
		
		<Layer
			File="_green aurora" NameCommand="%function(self) dys_auror3 = self end"
			OnCommand="queuecommand,Make;draworder,100;blend,add;x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-60;rotationx,45;zoomx,4;zoomy,3;fadebottom,0.25;diffuseshift;EffectColor1,#FFFFFFAA;EffectColor2,#FFFFFF55;EffectPeriod,9"
			MakeCommand="customtexturerect,0,0,1,1;texcoordvelocity,0.25,0;diffusealpha,0.5;"
		/>
		<Layer
			File="_green aurora" NameCommand="%function(self) dys_auror4 = self end"
			OnCommand="queuecommand,Make;draworder,100;blend,add;x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-60;rotationx,45;zoomx,4;zoomy,3;fadebottom,0.25;diffuseshift;EffectColor1,#FFFFFFAA;EffectColor2,#FFFFFF55;EffectPeriod,7"
			MakeCommand="customtexturerect,0,0,1,1;texcoordvelocity,-0.15,0;diffusealpha,0.5;"
		/>
		
		<Layer File="backlayer" NameCommand="%function(self) dys_backlayer = self end" OnCommand="stretchto,0,0,SCREEN_WIDTH,SCREEN_HEIGHT;" />
		
		<Layer File="chazo" NameCommand="%function(self) dys_chazo = self end" OnCommand="playcommand,Name;hidden,0;diffusealpha,1;animate,0;setstate,0;x,SCREEN_WIDTH*0.05;y,SCREEN_HEIGHT*0.23;zoom,0.4;rotationx,20;" />
		<Layer File="forelayer" NameCommand="%function(self) dys_forelayer = self end" OnCommand="zoomx,SCREEN_WIDTH/640;zoomy,SCREEN_HEIGHT/480;vertalign,bottom;y,SCREEN_BOTTOM;x,SCREEN_CENTER_X" />
		
		<Layer File="static.sprite" NameCommand="%function(self) dys_static = self end" OnCommand="blend,add;diffusealpha,.03;stretchto,0,0,SCREEN_WIDTH,SCREEN_HEIGHT;" />
	</children></Layer>
	
	<Aux Var="dys_awoo" />
	
	<Layer Type="ActorFrame" OnCommand="%function (self) char_nick=self; self:bob(); self:xy(SCREEN_CENTER_X,SCREEN_CENTER_Y)
	self:effectclock('music'); self:effectmagnitude(0,4,0); self:effectoffset(1); self:zoom(.7) end" HideQCommand="zoomy,0;zoomx,3;"
	HideCommand="bouncebegin,0.2;zoomy,0;zoomx,3;" SpawnCommand="bounceend,0.3;zoom,1;" SpawnQCommand="zoom,1;" > <children>
		
		<ActorFrame OnCommand="zoom,0.9" ><children>
		
		<Actor
			File="chara/nick/idle.sprite"
			OnCommand="diffusealpha,1;diffuse,.7,.7,1,1;"
			IdleCommand="diffusealpha,1"
			AttackCommand="diffusealpha,0"
			PunchCommand="diffusealpha,0"
			HurtCommand="diffusealpha,0"
			CastCommand="diffusealpha,0"
			Cast2Command="diffusealpha,0"
		/>
		
		<Actor
			File="chara/nick/misc.sprite"
			OnCommand="diffusealpha,0;diffuse,.7,.7,1,0;"
			IdleCommand="diffusealpha,0"
			AttackCommand="finishtweening;setstate,0;diffusealpha,1;zoom,1.1;linear,0.198;zoom,1;sleep,0.2;zoomy,0.8;bounceend,.2;zoom,1;"
			PunchCommand="diffusealpha,0"
			HurtCommand="diffusealpha,0"
			CastCommand="diffusealpha,0"
			Cast2Command="diffusealpha,0"
		/>
		
		<Actor
			File="chara/nick/cast.sprite"
			OnCommand="diffusealpha,0;diffuse,.7,.7,1,0;"
			AttackCommand="diffusealpha,0"
			PunchCommand="diffusealpha,0"
			HurtCommand="diffusealpha,0"
			CastCommand="setstate,0;diffusealpha,1;zoom,1.1;linear,0.2;zoom,1;"
			Cast2Command="setstate,0;diffusealpha,1;zoom,1.1;linear,0.2;zoom,1;"
			IdleCommand="diffusealpha,0"
		/>
		
		<Actor
			File="chara/nick/nick_hurt.png"
			OnCommand="diffusealpha,0;diffuse,.7,.7,1,0;"
			HurtCommand="vibrate;diffusealpha,1;sleep,0.3;queuecommand,StopVib"
			StopVibCommand="stopeffect;"
			CastCommand="diffusealpha,0"
			Cast2Command="diffusealpha,0"
			IdleCommand="diffusealpha,0"
			AttackCommand="diffusealpha,0"
			PunchCommand="diffusealpha,0"
		/>
		
		<Actor
			File="chara/nick/card.png"
			OnCommand="diffusealpha,0;zoom,0.1;spin;effectmagnitude,0,360,0;x,-50;y,-80;rotationy,90;"
			AttackCommand="linear,0.3;zoom,0.1;diffusealpha,0;y,-80;rotationy,90;"
			HurtCommand="linear,0.3;zoom,0.1;diffusealpha,0;y,-80;rotationy,90;"
			CastCommand="linear,0.3;zoom,0.4;diffusealpha,1;y,-100;rotationy,0;"
			Cast2Command="linear,0.3;zoom,0.1;diffusealpha,0;y,-80;rotationy,90;"
			IdleCommand="linear,0.3;zoom,0.1;diffusealpha,0;y,-80;rotationy,90;"
			PunchCommand="linear,0.3;zoom,0.1;diffusealpha,0;y,-80;rotationy,90;"
		/>
		
		<Layer Type="ActorFrame" OnCommand="zoom,2.5;spin;effectmagnitude,0,0,90;"><children>
			<Layer File="casting"
			OnCommand="blend,add;diffuse,1,1,1,0;rainbow;effectperiod,0.6"
			CastCommand="%function (self)
				self:zoom(1.1);
				self:linear(0.8);
				self:diffusealpha(1);
				self:linear(1);
				self:zoom(0.7);
				self:linear(0.8);
				self:diffusealpha(0);
			end" />
		</children> </Layer>
		
		<0Layer Type="ActorFrame" CastCommand="%function(self) self:playcommand('Inner'); chara_drand = math.random(0,360);
		chara_dspd = (math.random(0,600)/100)-3; self:playcommand('Turn') end"
		TurnCommand="rotationz,chara_drand;
		linear,0.1;rotationz,chara_drand+(60*chara_dspd);
		linear,0.1;rotationz,chara_drand+(110*chara_dspd);
		linear,0.1;rotationz,chara_drand+(150*chara_dspd);
		linear,0.1;rotationz,chara_drand+(180*chara_dspd);
		linear,0.2;rotationz,chara_drand+(200*chara_dspd);
		linear,1.0;rotationz,chara_drand+(350*chara_dspd);
		linear,0.2;rotationz,chara_drand+(370*chara_dspd);
		linear,0.2;rotationz,chara_drand+(400*chara_dspd);
		linear,0.2;rotationz,chara_drand+(440*chara_dspd);
		linear,0.2;rotationz,chara_drand+(490*chara_dspd);
		linear,0.2;rotationz,chara_drand+(550*chara_dspd);"
		><children>
		<Layer File="triangle"
		OnCommand="vertalign,top;blend,add;diffusealpha,0;fadetop,0.2;fadebottom,0.2;
		rainbow;effectperiod,0.6"
		InnerCommand="zoom,1;diffusealpha,0;linear,0.5;diffusealpha,1;zoomy,5;zoomx,3;linear,1.5;
		zoomy,8;zoomx,3;linear,0.6;zoomy,20;zoomx,0;sleep,0;diffusealpha,0;"
		/>
		</children> </0Layer>
		<0Layer Type="ActorFrame" CastCommand="%function(self) self:playcommand('Inner'); chara_drand = math.random(0,360);
		chara_dspd = (math.random(0,600)/100)-3; self:playcommand('Turn') end"
		TurnCommand="rotationz,chara_drand;
		linear,0.1;rotationz,chara_drand+(60*chara_dspd);
		linear,0.1;rotationz,chara_drand+(110*chara_dspd);
		linear,0.1;rotationz,chara_drand+(150*chara_dspd);
		linear,0.1;rotationz,chara_drand+(180*chara_dspd);
		linear,0.2;rotationz,chara_drand+(200*chara_dspd);
		linear,1.0;rotationz,chara_drand+(350*chara_dspd);
		linear,0.2;rotationz,chara_drand+(370*chara_dspd);
		linear,0.2;rotationz,chara_drand+(400*chara_dspd);
		linear,0.2;rotationz,chara_drand+(440*chara_dspd);
		linear,0.2;rotationz,chara_drand+(490*chara_dspd);
		linear,0.2;rotationz,chara_drand+(550*chara_dspd);"
		><children>
		<Layer File="triangle"
		OnCommand="vertalign,top;blend,add;diffusealpha,0;fadetop,0.2;fadebottom,0.2;
		rainbow;effectperiod,0.6"
		InnerCommand="zoom,1;diffusealpha,0;linear,0.5;diffusealpha,1;zoomy,5;zoomx,3;linear,1.5;
		zoomy,8;zoomx,3;linear,0.6;zoomy,20;zoomx,0;sleep,0;diffusealpha,0;"
		/>
		</children> </0Layer>
		<0Layer Type="ActorFrame" CastCommand="%function(self) self:playcommand('Inner'); chara_drand = math.random(0,360);
		chara_dspd = (math.random(0,600)/100)-3; self:playcommand('Turn') end"
		TurnCommand="rotationz,chara_drand;
		linear,0.1;rotationz,chara_drand+(60*chara_dspd);
		linear,0.1;rotationz,chara_drand+(110*chara_dspd);
		linear,0.1;rotationz,chara_drand+(150*chara_dspd);
		linear,0.1;rotationz,chara_drand+(180*chara_dspd);
		linear,0.2;rotationz,chara_drand+(200*chara_dspd);
		linear,1.0;rotationz,chara_drand+(350*chara_dspd);
		linear,0.2;rotationz,chara_drand+(370*chara_dspd);
		linear,0.2;rotationz,chara_drand+(400*chara_dspd);
		linear,0.2;rotationz,chara_drand+(440*chara_dspd);
		linear,0.2;rotationz,chara_drand+(490*chara_dspd);
		linear,0.2;rotationz,chara_drand+(550*chara_dspd);"
		><children>
		<Layer File="triangle"
		OnCommand="vertalign,top;blend,add;diffusealpha,0;fadetop,0.2;fadebottom,0.2;
		rainbow;effectperiod,0.6"
		InnerCommand="zoom,1;diffusealpha,0;linear,0.5;diffusealpha,1;zoomy,5;zoomx,3;linear,1.5;
		zoomy,8;zoomx,3;linear,0.6;zoomy,20;zoomx,0;sleep,0;diffusealpha,0;"
		/>
		</children> </0Layer>
		<0Layer Type="ActorFrame" CastCommand="%function(self) self:playcommand('Inner'); chara_drand = math.random(0,360);
		chara_dspd = (math.random(0,600)/100)-3; self:playcommand('Turn') end"
		TurnCommand="rotationz,chara_drand;
		linear,0.1;rotationz,chara_drand+(60*chara_dspd);
		linear,0.1;rotationz,chara_drand+(110*chara_dspd);
		linear,0.1;rotationz,chara_drand+(150*chara_dspd);
		linear,0.1;rotationz,chara_drand+(180*chara_dspd);
		linear,0.2;rotationz,chara_drand+(200*chara_dspd);
		linear,1.0;rotationz,chara_drand+(350*chara_dspd);
		linear,0.2;rotationz,chara_drand+(370*chara_dspd);
		linear,0.2;rotationz,chara_drand+(400*chara_dspd);
		linear,0.2;rotationz,chara_drand+(440*chara_dspd);
		linear,0.2;rotationz,chara_drand+(490*chara_dspd);
		linear,0.2;rotationz,chara_drand+(550*chara_dspd);"
		><children>
		<Layer File="triangle"
		OnCommand="vertalign,top;blend,add;diffusealpha,0;fadetop,0.2;fadebottom,0.2;
		rainbow;effectperiod,0.6"
		InnerCommand="zoom,1;diffusealpha,0;linear,0.5;diffusealpha,1;zoomy,5;zoomx,3;linear,1.5;
		zoomy,8;zoomx,3;linear,0.6;zoomy,20;zoomx,0;sleep,0;diffusealpha,0;"
		/>
		</children> </0Layer>
		
		</children>	</ActorFrame>
		
	</children>	</Layer>
	
</children> </ActorFrame>