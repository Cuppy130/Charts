<ActorFrame OnCommand="%function(self) sw=SCREEN_WIDTH; sh=SCREEN_HEIGHT; self:playcommand('Name') end" > <children>

	<Layer Type="Quad" OnCommand="diffuse,0,0,0,1;stretchto,0,0,sw,sh;" />
	
	<!--pan down to buildings-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene1=self; self:hidden(1) end"> <children>
		
		<Layer File="skyback" OnCommand="stretchto,0,0,sw,sh" />
		<Layer File="clouds" OnCommand="basezoomx,2;zoom,1.4;diffusealpha,.3;blend,add;customtexturerect,0,0,2,1;x,sw/2;y,sh/2-80;texcoordvelocity,.1,0;"
		UpCommand="linear,8*60/140;addy,-40;" />
		
		<Layer Type="ActorFrame" OnCommand="addy,100;" UpCommand="linear,8*60/140;y,0;" ><children>
			<Layer File="intro_buildings" OnCommand="zoomto,sw,sh*0.66;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.75,.5*.75,.9*.75,1;" />
			<Layer File="intro_lights" OnCommand="zoomto,sw,sh*0.66;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>
		<Layer Type="ActorFrame" OnCommand="addy,200;" UpCommand="linear,8*60/140;y,0;" ><children>
			<Layer File="intro_buildings" OnCommand="basezoomx,-1;zoomto,sw*1.25,sh*1.25*0.66;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.5,.5*.5,.9*.5,1;" />
			<Layer File="intro_lights" OnCommand="basezoomx,-1;zoomto,sw*1.25,sh*1.25*0.66;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>
		<Layer Type="ActorFrame" OnCommand="addy,300;" UpCommand="linear,8*60/140;y,0;" ><children>
			<Layer File="intro_buildings" OnCommand="zoomto,sw*1.5,sh;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.25,.5*.25,.9*.25,1;" />
			<Layer File="intro_lights" OnCommand="zoomto,sw*1.5,sh;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>

	</children> </Layer>
	
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_title=self end"><children>
		<Layer File="title" OnCommand="stretchto,0,0,sw,sh;bob;effectperiod,3;effectmagnitude,0,4,0;" TitleOffMessageCommand="hidden,1;" />
		<Layer Type="ActorFrame" OnCommand="addy,120;sleep,24/14;linear,48/14;addy,-120;" TitleOffMessageCommand="finishtweening;hidden,1"><children>
			<Layer File="credit" OnCommand="stretchto,0,0,sw,sh;diffusealpha,0;sleep,48/14 - .3;linear,.3;diffusealpha,1;" />
		</children></Layer>
	</children></Layer>
	
	<!--soofi asleep-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene2=self; self:hidden(1) end"> <children>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2;zoom,64/80;" UpCommand="playcommand,U2;linear,6*60/140;zoom,72/80;" ><children>
			<Layer File="intro_floor" OnCommand="stretchto,0,0,sw*80/64,sh*80/64;addx,-sw/2*(80/64);addy,-sh/2*(80/64);" />
			
			<Layer File="intro_clock_frame" OnCommand="x,90;y,-140;" />
			<Layer File="intro_clock_time" DCommand="stopeffect;setstate,1;" U2Command="sleep,6*60/140;queuecommand,D"
			OnCommand="x,90;y,-180;blend,add;zoom,.8;animate,0;diffuseblink;effectperiod,.25;effectcolor1,1,1,1,1;effectcolor2,1,1,1,0;" />
			
			<Layer File="intro_bed" OnCommand="y,50;" />
			<Layer File="intro_soof" VibCommand="setstate,1;vibrate;effectmagnitude,1,1,0;" U2Command="sleep,6*60/140;queuecommand,Vib;"
			OnCommand="x,-130;y,-40;animate,0;pulse;effectclock,bgm;effectperiod,2;effectmagnitude,1,1,1;effectcolor1,1.01,.99,1,1;effectcolor2,.99,1.01,1,1;" />
			<Layer File="intro_snot" VibCommand="hidden,1" U2Command="sleep,6*60/140;queuecommand,Vib;"
			OnCommand="x,-130-30;y,-40+24;animate,0;pulse;effectclock,bgm;effectperiod,2;effectmagnitude,1,1.3,1;" />
			<Layer File="intro_blanket" OnCommand="y,50;" />
		</children> </Layer>
		
	</children> </Layer>
	
	<!--soofi stroll-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene3=self; self:hidden(1) end"> <children>
	
		<Layer File="skyback" OnCommand="stretchto,0,0,sw,sh" />
		<Layer File="clouds" OnCommand="basezoomx,2;zoom,1.4;diffusealpha,.3;blend,add;customtexturerect,0,0,2,1;x,sw/2;y,sh/2-80;texcoordvelocity,.1,0;"
		UpCommand="linear,8*60/140;addy,-40;" />
		
		<Layer Type="ActorFrame" OnCommand="addy,100;addx,33;" UpCommand="y,40;sleep,7.5*6/14;linear,6*6/14;addx,-33;" ><children>
			<Layer File="intro_buildings" OnCommand="zoomto,sw,sh*0.66;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.9,.5*.9,.9*.9,1;" />
			<Layer File="intro_lights" OnCommand="zoomto,sw,sh*0.66;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>
		<Layer Type="ActorFrame" OnCommand="addy,200;addx,66;" UpCommand="y,80;sleep,7.5*6/14;linear,6*6/14;addx,-66;" ><children>
			<Layer File="intro_buildings" OnCommand="basezoomx,-1;zoomto,sw*1.25,sh*1.25*0.66;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.7,.5*.7,.9*.7,1;" />
			<Layer File="intro_lights" OnCommand="basezoomx,-1;zoomto,sw*1.25,sh*1.25*0.66;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>
		<Layer Type="ActorFrame" OnCommand="addy,300;addx,99;" UpCommand="y,120;sleep,7.5*6/14;linear,6*6/14;addx,-99;" ><children>
			<Layer File="intro_buildings" OnCommand="zoomto,sw*1.5,sh;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.5,.5*.5,.9*.5,1;" />
			<Layer File="intro_lights" OnCommand="zoomto,sw*1.5,sh;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>
		
		<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene3i=self; end"> <children>
			
			<Layer File="intro_balcony" OnCommand="horizalign,left;x,1024;y,sh/2;" />
			<Layer File="intro_room" OnCommand="horizalign,left;x,0;y,sh/2;" />
			
			<Layer File="intro_alphabet" OnCommand="x,560;y,sh/2-60;" />
			
			<Layer File="vinespha" OnCommand="x,588;y,sh*0.8;vertalign,bottom;zoom,.6;animate,0;wag;effectperiod,2;effectclock,bgm;effectmagnitude,0,0,5;"
			PopupCommand="bounceend,.4;addy,-74;" EVinCommand="setstate,1" />
			<Layer File="intro_cot" OnCommand="horizalign,left;x,521;y,sh*0.8-40;" />
			
			<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene3_soofi=self; end"><children>
			<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene3_soofi4=self; end"><children>
			<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene3_soofi2=self; end"
				BounceCommand="sleep,0;rotationz,-10;x,-10;y,-10;sleep,30/140;rotationz,0;x,0;y,0;sleep,30/140;
								rotationz,10;x,10;y,-10;sleep,30/140;rotationz,0;x,0;y,0;sleep,30/140;queuecommand,Bounce;"
				StopBounceCommand="x,0;y,0;rotationz,0;"><children>
				
				<Layer File="soofi" NameCommand="%function(self) pl_scene3_soofi3=self; end" OnCommand="zoom,.5" />
				
			</children> </Layer>
			</children> </Layer>
			</children> </Layer>
			
			<Layer File="stop smoking MOM" OnCommand="vertalign,bottom;x,1056;y,sh*0.84-5;zoom,.7" />
			
			<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene3_ship_main=self; self:queuecommand('S') end" SCommand="x,1024+240;y,sh*0.84;" ><children>
				<Layer File="soofi" NameCommand="%function(self) pl_scene3_shipsoofi=self; end"
				OnCommand="diffuse,0,0,0,1;zoom,.28;vertalign,bottom;zoomy,0;y,-34;" InCommand="spring,.3;zoomy,.28" />
				<Layer File="ship_sil" NameCommand="%function(self) pl_scene3_ship=self; end" OnCommand="zoom,.7;vertalign,bottom;" />
			</children> </Layer>
			
			<Layer File="intro_star" NameCommand="%function(self) pl_scene3_star=self; end" OnCommand="x,1024+240+150;y,sh*0.84-300;zoom,0;"
			BlipCommand="linear,.1;zoom,1;rotationz,90;linear,.1;zoom,0;rotationz,180;" />
			
		</children> </Layer>
	
	</children> </Layer>
	
	
	<!--collect make & zifd -->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene4=self; self:hidden(1) end"> <children>
		
		<Layer File="beachbg" OnCommand="stretchto,0,0,sw,sh;" />
		<Layer File="soofi" OnCommand="x,-100;zoom,.6;y,sh*0.7-30;" ComeOnCommand="decelerate,30/140;x,sw/2-100;"
		HypeCommand="%function(self) self:x(sw/2 - 150 + 100*math.random()) self:y(sh*0.7 - 60 + 60*math.random()) self:rotationz(-30+60*math.random()) end" />
		<Layer File="make_zifd" OnCommand="hidden,1;x,sw/2;zoom,.6;y,sh*0.7;"
		HypeCommand="%function(self) self:hidden(0) self:x(sw/2 + 80*math.random()) self:y(sh*0.7 - 130 + 40*math.random()) self:rotationz(-30+60*math.random()) end" />
		<Layer File="mz_castleplay" OnCommand="x,sw/2;y,sh/2;zoom,.7;" HypeCommand="hidden,1" />
		<Layer File="sandcastle" OnCommand="x,sw/2;y,sh/2;zoom,.7;" />
		
	</children> </Layer>
	
	<!--collect bolegdeh -->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene5=self; self:hidden(1) end"> <children>
		
		<Layer File="bol_sky2" OnCommand="stretchto,0,0,sw,sh;" />
		<Layer File="soofi" OnCommand="x,sw+100;zoom,.7;y,sh*0.7;wag;effectperiod,2;effectclock,bgm;effectmagnitude,0,0,5;" UpCommand="decelerate,30/140;x,sw/2+100;"
		HypeCommand="%function(self) self:stopeffect() self:x(sw/2 + 150 - 100*math.random()) self:y(sh*0.7 - 60 + 60*math.random())
			self:rotationz(-30+60*math.random()) end" />
		
		<Layer File="bolegdeh" OnCommand="x,sw/2-160;y,sh*0.5;zoom,.7;animate,0;setstate,1;pulse;
			effectclock,bgm;effectperiod,2;effectmagnitude,1,1,1;effectcolor1,1.01,.99,1,1;effectcolor2,.99,1.01,1,1;"
		HypeCommand="%function(self) self:setstate(0) self:x(sw/2 - 200 + 80*math.random()) self:y(sh*0.5 + 60*math.random()) self:rotationz(-30+60*math.random()) end" />
		
		<Layer Type="ActorFrame" OnCommand="bob;effectperiod,2;x,sw/2-180;y,sh*0.5-80;effectmagnitude,0,5,0;" Hype2Command="playcommand,H;stopeffect;"><children>
			<Layer File="letters" OnCommand="animate,0;setstate,0;zoom,1;wag;effectmagnitude,0,0,5;effectperiod,5;effectoffset,3;" HCommand="accelerate,1;addy,1000;" />
			<Layer File="bubble" OnCommand="animate,0;zoom,.4;" HCommand="setstate,1;linear,.5;diffusealpha,0;" />
		</children> </Layer>
		<Layer Type="ActorFrame" OnCommand="bob;effectperiod,1.6;x,sw/2-130;y,sh*0.5-60;effectmagnitude,0,5,0;" Hype2Command="playcommand,H;stopeffect;"><children>
			<Layer File="letters" OnCommand="animate,0;setstate,1;zoom,1;wag;effectmagnitude,0,0,5;effectperiod,4.5;effectoffset,2;" HCommand="accelerate,1;addy,1000;" />
			<Layer File="bubble" OnCommand="animate,0;zoom,.4;" HCommand="setstate,1;linear,.5;diffusealpha,0;" />
		</children> </Layer>
		<Layer Type="ActorFrame" OnCommand="bob;effectperiod,2.3;x,sw/2-150;y,sh*0.5-90;effectmagnitude,0,5,0;" Hype2Command="playcommand,H;stopeffect;"><children>
			<Layer File="letters" OnCommand="animate,0;setstate,2;zoom,1;wag;effectmagnitude,0,0,5;effectperiod,4.7;effectoffset,1;" HCommand="accelerate,1;addy,1000;" />
			<Layer File="bubble" OnCommand="animate,0;zoom,.4;" HCommand="setstate,1;linear,.5;diffusealpha,0;" />
		</children> </Layer>
		
	</children> </Layer>
	
	<!--forward stroll -->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene6=self; self:hidden(1) end"> <children>
		
		<Layer File="bol_sky" OnCommand="stretchto,0,0,sw,sh;" OutCommand="sleep,180/140;accelerate,40/140;addx,-50;decelerate,40/140;addx,-50;" />
		<Layer File="bol_sky" OnCommand="stretchto,0,0,sw,sh;addx,sw;basezoomx,-1;" OutCommand="sleep,180/140;accelerate,40/140;addx,-50;decelerate,40/140;addx,-50;" />
		<Layer File="bol_sky" OnCommand="stretchto,0,0,sw,sh;addy,sh*0.8;basezoomy,-1;fadebottom,.1;cropbottom,.1"
		OutCommand="sleep,180/140;accelerate,40/140;addx,-50;decelerate,40/140;addx,-50;" />
		<Layer File="bol_sky" OnCommand="stretchto,0,0,sw,sh;addy,sh*0.8;basezoomy,-1;fadebottom,.1;cropbottom,.1;addx,sw;basezoomx,-1;"
		OutCommand="sleep,180/140;accelerate,40/140;addx,-50;decelerate,40/140;addx,-50;" />
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2+160.0*.8;y,sh/2+90+130;zoom,.5;basezoomy,-1;"
		OutCommand="sleep,0/140;accelerate,40/140;x,-160.0*.8;"
		Swap2Command="diffusealpha,.8;decelerate,45/140;addx,-160.0*.8;sleep,30/140;decelerate,30/140;addx,-160.0*.8;" ><children>
			<Layer File="bolegdeh" NameCommand="%function(self) pl_scene6_mz2=self; end"
			OnCommand="diffusealpha,.3;bob;effectclock,bgm;effectperiod,2;effectmagnitude,0,-10,0;animate,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2-160.0*.8;y,sh/2+90+130;zoom,.5;basezoomy,-1;"
		OutCommand="sleep,60/140;accelerate,40/140;x,-160.0*.8;" Swap1Command="decelerate,60/140;addx,160.0*.8;"
		Swap2Command="decelerate,45/140;addx,160.0*.8;decelerate,30/140;addx,-320.0*.8;decelerate,30/140;addx,160.0*.8;decelerate,30/140;addx,160.0*.8;" ><children>
			<Layer File="make_zifd" NameCommand="%function(self) pl_scene6_bol2=self; end"
			OnCommand="diffusealpha,.3;bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-20,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2+80+200;zoom,.6;basezoomy,-1;"
		OutCommand="sleep,120/140;accelerate,40/140;x,-160.0*.8;" Swap1Command="decelerate,60/140;addx,-160.0*.8;"
		Swap2Command="sleep,45/140;decelerate,30/140;addx,320.0*.8;sleep,30/140;decelerate,30/140;addx,-160.0*.8;" ><children>
			<Layer File="soofi" NameCommand="%function(self) pl_scene6_soofi2=self; end"
			OnCommand="diffusealpha,.3;bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-24,0;" />
		</children></Layer>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2+160.0*.8;y,sh/2+90;zoom,.5;" OutCommand="sleep,0/140;accelerate,40/140;x,-160.0*.8;"
		Swap2Command="decelerate,45/140;addx,-160.0*.8;sleep,30/140;decelerate,30/140;addx,-160.0*.8;" ><children>
			<Layer File="bolegdeh" NameCommand="%function(self) pl_scene6_mz=self; end"
			OnCommand="bob;effectclock,bgm;effectperiod,2;effectmagnitude,0,-10,0;animate,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2-160.0*.8;y,sh/2+90;zoom,.5;" OutCommand="sleep,60/140;accelerate,40/140;x,-160.0*.8;" Swap1Command="decelerate,60/140;addx,160.0*.8;"
		Swap2Command="decelerate,45/140;addx,160.0*.8;decelerate,30/140;addx,-320.0*.8;decelerate,30/140;addx,160.0*.8;decelerate,30/140;addx,160.0*.8;" ><children>
			<Layer File="make_zifd" NameCommand="%function(self) pl_scene6_bol=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-20,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2+80;zoom,.6;" OutCommand="sleep,120/140;accelerate,40/140;x,-160.0*.8;" Swap1Command="decelerate,60/140;addx,-160.0*.8;"
		Swap2Command="sleep,45/140;decelerate,30/140;addx,320.0*.8;sleep,30/140;decelerate,30/140;addx,-160.0*.8;" ><children>
			<Layer File="soofi" NameCommand="%function(self) pl_scene6_soofi=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-24,0;" />
		</children></Layer>
		
		
		
		<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene6_ship_main=self; self:queuecommand('S') end" SCommand="x,sw+256;y,sh*0.9;zoom,1.2;"
		 OutCommand="sleep,180/140;accelerate,40/140;addx,-(sw*0.25+128);decelerate,40/140;addx,-(sw*0.25+128);" LiftoffCommand="accelerate,90/140;addy,-sh;" ><children>
			<Layer File="bolegdeh" OnCommand="animate,0;zoom,.35;vertalign,bottom;x,22;zoomy,0;y,-89;" InCommand="sleep,60/140;bounceend,.3;zoomy,.35" />
			<Layer File="make_zifd" OnCommand="animate,0;zoom,.35;vertalign,bottom;x,-28;zoomy,0;y,-53;" InCommand="sleep,0/140;bounceend,.3;zoomy,.35" />
			<Layer File="soofi" OnCommand="zoom,.4;vertalign,bottom;zoomy,0;y,-50;" InCommand="sleep,120/140;bounceend,.3;zoomy,.4" />
			<Layer File="ship_main" NameCommand="%function(self) pl_scene6_ship=self; end" OnCommand="zoom,1;vertalign,bottom;" />
		</children> </Layer>
		
		<Layer File="ship_main" OnCommand="zoom,1.2;basezoomy,-1;x,sw+256;y,sh*0.9-42;fadetop,.1;croptop,.6;vertalign,bottom;"
		OutCommand="diffusealpha,.3;sleep,180/140;accelerate,40/140;addx,-(sw*0.25+128);decelerate,40/140;addx,-(sw*0.25+128);"
		LiftoffCommand="accelerate,90/140;addy,sh;" />
		
	</children> </Layer>
	
	<!--we're travellin thru space -->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene7=self; self:hidden(1) end"> <children>
		
		<Layer File="space6" OnCommand="zoom,2;basezoomx,sw/640;x,sw/2;y,sh/2;customtexturerect,0,0,2,2;" />
		
		<Layer Type="ActorFrame" OnCommand="hidden,0;" PlanetSet2Command="hidden,1;"> <children>
		
			<Layer Type="ActorFrame" OnCommand="rotationz,90;x,sw/2-180;y,sh/2-140;" ><children>
			<Layer File="dotted" OnCommand="horizalign,left;rotationz,-90;cropright,1;"
			Planet1Command="sleep,(60+20)/140;accelerate,4/14;cropright,.75;decelerate,4/14;cropright,.5;" /> </children> </Layer>
			<Layer Type="ActorFrame" OnCommand="rotationz,180;x,sw/2+180;y,sh/2-140;" ><children>
			<Layer File="dotted" OnCommand="horizalign,left;rotationz,-90;cropright,1;"
			Planet1Command="sleep,(180+20)/140;accelerate,4/14;cropright,.8;decelerate,4/14;cropright,.6;" /> </children> </Layer>
			<Layer Type="ActorFrame" OnCommand="rotationz,270;x,sw/2+180;y,sh/2+140;" ><children>
			<Layer File="dotted" OnCommand="horizalign,left;rotationz,-90;cropright,1;"
			Planet1Command="sleep,(300+20)/140;accelerate,4/14;cropright,.75;decelerate,4/14;cropright,.5;" /> </children> </Layer>
		
			<Layer File="planeta" OnCommand="animate,0;setstate,0;x,sw/2-180;y,sh/2-140" />
			<Layer File="planeta" OnCommand="animate,0;setstate,1;x,sw/2+180;y,sh/2-140" />
			<Layer File="planeta" OnCommand="animate,0;setstate,2;x,sw/2+180;y,sh/2+140" />
			<Layer File="planeta" OnCommand="animate,0;setstate,3;x,sw/2-180;y,sh/2+140" />
			
			<Layer File="marker" OnCommand="blend,add;zoom,1.25;diffuse,0,0,1,.5;x,sw/2-180;y,sh/2-140"
			Planet1Command="decelerate,60/140;zoom,2.5;" Planet2Command="decelerate,60/140;zoom,1.25;" />
			<Layer File="marker" OnCommand="blend,add;zoom,1.25;diffuse,0,0,1,.5;x,sw/2+180;y,sh/2-140"
			Planet2Command="decelerate,60/140;zoom,2.5;" Planet3Command="decelerate,60/140;zoom,1.25;" />
			<Layer File="marker" OnCommand="blend,add;zoom,1.25;diffuse,0,0,1,.5;x,sw/2+180;y,sh/2+140"
			Planet3Command="decelerate,60/140;zoom,2.5;" Planet4Command="decelerate,60/140;zoom,1.25;" />
			<Layer File="marker" OnCommand="blend,add;zoom,1.25;diffuse,0,0,1,.5;x,sw/2-180;y,sh/2+140"
			Planet4Command="decelerate,60/140;zoom,2.5;" />
			
		</children> </Layer>
		
		<Layer Type="ActorFrame" OnCommand="hidden,1;" PlanetSet2Command="hidden,0;"> <children>
		
			<Layer Type="ActorFrame" OnCommand="rotationz,270;x,sw/2+180;y,sh/2+140;" ><children>
			<Layer File="dotted" OnCommand="horizalign,left;rotationz,-90;cropright,1;"
			Planet5Command="sleep,(60+20)/140;accelerate,4/14;cropright,.75;decelerate,4/14;cropright,.5;" /> </children> </Layer>
			<Layer Type="ActorFrame" OnCommand="rotationz,50;x,sw/2-180;y,sh/2+140;" ><children>
			<Layer File="dotted" OnCommand="horizalign,left;rotationz,-90;cropright,1;"
			Planet5Command="sleep,(180+20)/140;accelerate,4/14;cropright,.65;decelerate,4/14;cropright,.3;" /> </children> </Layer>
			<Layer Type="ActorFrame" OnCommand="rotationz,270;x,sw/2+180;y,sh/2-140;" ><children>
			<Layer File="dotted" OnCommand="horizalign,left;rotationz,-90;cropright,1;"
			Planet5Command="sleep,(300+20)/140;accelerate,4/14;cropright,.75;decelerate,4/14;cropright,.5;" /> </children> </Layer>
		
			<Layer File="planeta" OnCommand="animate,0;setstate,4;x,sw/2+180;y,sh/2+140" />
			<Layer File="planeta" OnCommand="animate,0;setstate,5;x,sw/2-180;y,sh/2+140" />
			<Layer File="planeta" OnCommand="animate,0;setstate,6;x,sw/2+180;y,sh/2-140" />
			<Layer File="planeta" OnCommand="animate,0;setstate,7;x,sw/2-180;y,sh/2-140" />

			<Layer File="marker" OnCommand="blend,add;zoom,1.25;diffuse,0,0,1,.5;x,sw/2+180;y,sh/2+140"
			Planet5Command="decelerate,60/140;zoom,2.5;" Planet6Command="decelerate,60/140;zoom,1.25;" />
			<Layer File="marker" OnCommand="blend,add;zoom,1.25;diffuse,0,0,1,.5;x,sw/2-180;y,sh/2+140"
			Planet6Command="decelerate,60/140;zoom,2.5;" Planet7Command="decelerate,60/140;zoom,1.25;" />
			<Layer File="marker" OnCommand="blend,add;zoom,1.25;diffuse,0,0,1,.5;x,sw/2+180;y,sh/2-140"
			Planet7Command="decelerate,60/140;zoom,2.5;" Planet8Command="decelerate,60/140;zoom,1.25;" />
			<Layer File="marker" OnCommand="blend,add;zoom,1.25;diffuse,0,0,1,.5;x,sw/2-180;y,sh/2-140"
			Planet8Command="decelerate,60/140;zoom,2.5;" />
			
		</children> </Layer>
		
		<Layer File="s_headicon" OnCommand="zoom,.7;x,sw/2-180;y,sh/2-140-50;"
		Go1Command="accelerate,30/140;addx,180;decelerate,30/180;addx,180;sleep,60/140;
		accelerate,30/140;addy,140;decelerate,30/140;addy,140;sleep,60/140;
		accelerate,30/140;addx,-180;decelerate,30/140;addx,-180;sleep,60/140;"
		PlanetSet2Command="x,sw/2;y,sh/2-50;"
		Go2Command="accelerate,30/140;addx,90;addy,70;decelerate,30/180;addx,90;addy,70;sleep,60/140;
		accelerate,30/140;addx,-180;decelerate,30/180;addx,-180;sleep,60/140;
		accelerate,30/140;addy,-140;addx,180;rotationz,180;decelerate,30/140;addy,-140;addx,180;rotationz,360;sleep,60/140;
		accelerate,30/140;addx,-180;decelerate,30/140;addx,-180;sleep,60/140;"
		/>
		
		<Layer File="space5" OnCommand="zoom,4;basezoomx,sw/640;x,sw/2;y,sh/2;diffusealpha,0;customtexturerect,0,0,4,4;texcoordvelocity,.5,0;"
		TravelUpCommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2-80;y,sh*0.5;zoom,.7;wag;effectclock,bgm;effectmagnitude,0,0,8;effectperiod,4;"
		TravelUpCommand="playcommand,TravelUpI;x,sw/2-80;linear,480/140;x,sw/2+80" ><children>
			<Layer File="bolegdeh" OnCommand="animate,0;zoom,.35;vertalign,bottom;x,22;y,-89;addy,100;diffusealpha,0;cropbottom,.3;fadebottom,.1;"
			TravelUpICommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="make_zifd" OnCommand="animate,0;zoom,.35;vertalign,bottom;x,-28;y,-53;addy,100;diffusealpha,0;cropbottom,.4;fadebottom,.1;"
			TravelUpICommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="soofi" OnCommand="zoom,.4;vertalign,bottom;y,-50;addy,100;diffusealpha,0;cropbottom,.4;fadebottom,.1;"
			TravelUpICommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_main" NameCommand="%function(self) end" OnCommand="zoom,1;vertalign,bottom;addy,100;diffusealpha,0;"
			TravelUpICommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_ligma" OnCommand="vertalign,bottom;addy,100;diffusealpha,0;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;"
			TravelUpICommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
		</children> </Layer>
		
		<Layer File="space5" OnCommand="zoom,6;basezoomx,sw/640;x,sw/2;y,sh/2;diffusealpha,0;customtexturerect,0,0,4,4;texcoordvelocity,.04,0;"
		HuhCommand="diffusealpha,1;"/>
		
		<Layer File="ship_large_huh" OnCommand="hidden,1;x,sw/2;y,sh/2+40;zoom,.9;" HuhCommand="hidden,0;" />
		<Layer File="ship_large_ligma" HuhCommand="hidden,0;"
		OnCommand="hidden,1;x,sw/2;y,sh/2+40;zoom,.9;diffusealpha,.6;diffuseblink;effectperiod,.2;effectcolor1,1,1,1,0;effectcolor2,1,1,1,1;" />
		
		<Layer File="intro_floor" OnCommand="hidden,1;stretchto,0,0,sw,sh;" GasCommand="hidden,0;" />
		<Layer File="OUTTA GAS" OnCommand="hidden,1;x,sw/2;y,sh/2;" GasCommand="hidden,0;" />
		<Layer File="fuel ya dingus" OnCommand="hidden,1;diffuseblink;effectperiod,.2;effectcolor1,1,1,1,0;effectcolor2,1,1,1,1;x,sw/2;y,sh/2;" GasCommand="hidden,0;" />
		<Layer File="oh fuck" OnCommand="hidden,1;stretchto,0,0,sw,sh;" GasCommand="hidden,0;" />
		
		<Layer File="crashland" OnCommand="vertalign,top;x,sw/2;y,0;hidden,1;" OhnoCommand="hidden,0;linear,240/140;y,-960+sh;" />
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2;zoom,.9;bob;effectperiod,1;effectclock,bgm;effectmagnitude,30,0,0;"
		OhnoCommand="playcommand,Ohno2;accelerate,240/140;zoom,0;y,sh*0.75;" > <children>
		<Layer Type="ActorFrame" OnCommand="wag;effectperiod,2;effectclock,bgm;effectmagnitude,0,0,20;" > <children>
			<Layer File="ship_large_ohno" OnCommand="hidden,1;" Ohno2Command="hidden,0;" />
			<Layer File="ship_large_ligma" Ohno2Command="hidden,0;"
			OnCommand="hidden,1;zoom,.9;diffusealpha,.6;diffuseblink;effectperiod,.2;effectcolor1,1,1,1,0;effectcolor2,1,1,1,1;" />
		</children> </Layer>
		</children> </Layer>
		
	</children> </Layer>
	
	<!--let's walk on some landscapes!-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene8=self; self:hidden(1) end"> <children>
	
		<Layer File="fb_bg" OnCommand="stretchto,0,0,sw,sh;" />
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2" UpCommand="linear,48/14;zoom,64/80" ><children>
			
			<Layer File="fb_world" OnCommand="zoomx,sw/640;zoomy,sh/480;" />
			
			<Layer Type="ActorFrame" OnCommand="x,sw*-.25;zoom,.5;y,sh*.32-50;" ><children>
			<Layer File="fb_bumpoid/_side_idle" OnCommand="diffusealpha,1;zoom,.9;y,10;effectclock,bgm"
			Push1Command="diffusealpha,0;sleep,0.23;queuecommand,Idle" IdleCommand="diffusealpha,1;" />
			<Layer File="fb_bumpoid/_side_push" OnCommand="diffusealpha,0;"
			Push1Command="diffusealpha,1;setstate,0;sleep,0.23;queuecommand,Idle" IdleCommand="diffusealpha,0;" />
			</children></Layer>
			<Layer Type="ActorFrame" OnCommand="x,sw*.25;zoom,.5;y,sh*.32-50;basezoomx,-1;" ><children>
			<Layer File="fb_bumpoid/_side_idle" OnCommand="diffusealpha,1;zoom,.9;y,10;effectclock,bgm"
			Push2Command="diffusealpha,0;sleep,0.23;queuecommand,Idle" IdleCommand="diffusealpha,1;" />
			<Layer File="fb_bumpoid/_side_push" OnCommand="diffusealpha,0;"
			Push2Command="diffusealpha,1;setstate,0;sleep,0.23;queuecommand,Idle" IdleCommand="diffusealpha,0;" />
			</children></Layer>
			
			<Layer File="fb_box" OnCommand="x,sw*-.25;y,sh*.32;zoom,.5;" />
			<Layer File="fb_box" OnCommand="x,sw*.25;y,sh*.32;zoom,.5;" />
			
			<Layer Type="ActorFrame" OnCommand="x,sw*-.22;y,sh*.24;zoom,.7;" Push1Command="linear,6/14;x,sw*.22" Push2Command="linear,6/14;x,sw*-.22" ><children>
				<Layer File="fb_ball" PushBCommand="finishtweening;decelerate,3/14;addy,-250;accelerate,4/14;addy,250" />
			</children></Layer>
			
		</children></Layer>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2+160.0*.6;y,sh/2+90;zoom,.5;" ><children>
			<Layer File="fb_bol" NameCommand="%function(self) pl_scene8_mz=self; end"
			OnCommand="bob;effectclock,bgm;effectperiod,2;effectmagnitude,0,-10,0;animate,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2-160.0*.6;y,sh/2+90;zoom,.5;" ><children>
			<Layer File="fb_mz" NameCommand="%function(self) pl_scene8_bol=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-20,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2+80;zoom,.6;" ><children>
			<Layer File="fb_soofi" NameCommand="%function(self) pl_scene8_soofi=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-24,0;" />
		</children></Layer>
		
		<Layer File="fb_bumpoid/_front_idle" UpCommand="linear,48/14;addx,-sw*.08;zoom,.8;addy,sh*-.08+10"
		OnCommand="diffusealpha,1;effectclock,bgm;x,sw*.95;y,sh*.94 - 90;zoom,.9;" />
		<Layer File="fb_box" OnCommand="x,sw*.95;y,sh*.94;zoom,.9;" UpCommand="linear,48/14;addx,-sw*.08;zoom,.8;addy,sh*-.08" />
		
	</children> </Layer>
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene9=self; self:hidden(1) end"> <children>
	
		<Layer File="celesti_bg" OnCommand="stretchto,0,0,sw,sh;" />
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2" UpCommand="linear,48/14;zoom,64/80" ><children>
			
			<Layer File="celesti_world" OnCommand="zoomx,sw/640;zoomy,sh/480;" />
			<Layer File="c_dai" OnCommand="x,sw*.28;y,sh*.26;animate,1;" SaluteCommand="setstate,1;zoom,1.1;linear,.1;zoom,1;" />
			
		</children></Layer>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2+160.0*.6;y,sh/2+90;zoom,.5;" ><children>
			<Layer File="celesti_bol" NameCommand="%function(self) pl_scene9_mz=self; end"
			OnCommand="bob;effectclock,bgm;effectperiod,2;effectmagnitude,0,-10,0;animate,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2-160.0*.6;y,sh/2+90;zoom,.5;" ><children>
			<Layer File="celesti_mz" NameCommand="%function(self) pl_scene9_bol=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-20,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2+80;zoom,.6;" ><children>
			<Layer File="celesti_soofi" NameCommand="%function(self) pl_scene9_soofi=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-24,0;" />
		</children></Layer>
		
	</children> </Layer>
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene10=self; self:hidden(1) end"> <children>
	
		<Layer File="city_bg" OnCommand="stretchto,0,0,sw,sh;" />
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2" UpCommand="linear,48/14;zoom,64/80" ><children>
			
			<Layer File="city_world" OnCommand="zoomx,sw/640;zoomy,sh/480;" />
			
		</children></Layer>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2+160.0*.6;y,sh/2+90;zoom,.5;" ><children>
			<Layer File="city_bol" NameCommand="%function(self) pl_scene10_mz=self; end"
			OnCommand="bob;effectclock,bgm;effectperiod,2;effectmagnitude,0,-10,0;animate,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2-160.0*.6;y,sh/2+90;zoom,.5;" ><children>
			<Layer File="city_mz" NameCommand="%function(self) pl_scene10_bol=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-20,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2+80;zoom,.6;" ><children>
			<Layer File="city_soofi" NameCommand="%function(self) pl_scene10_soofi=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-24,0;" />
		</children></Layer>
		
	</children> </Layer>
	
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene11=self; self:hidden(1) end"> <children>
	
		<Layer File="photo1" OnCommand="zoom,1;diffusealpha,0;x,sw/2;y,sh/2;" Photo1Command="diffusealpha,1;decelerate,.2;zoom,.7;rotationz,10;addy,20;addx,-10"
		Photo2Command="diffuse,.8,.8,.8,1;" Photo3Command="diffuse,.6,.6,.6,1;" />
		<Layer File="photo3" OnCommand="zoom,1;diffusealpha,0;x,sw/2;y,sh/2;" Photo2Command="diffusealpha,1;decelerate,.2;zoom,.72;rotationz,-10;addy,10;addx,20"
		Photo3Command="diffuse,.8,.8,.8,1;" />
		<Layer File="photo2" OnCommand="zoom,1;diffusealpha,0;x,sw/2;y,sh/2;" Photo3Command="diffusealpha,1;decelerate,.2;zoom,.74;rotationz,5;addy,-5;addx,6" />
		
		<Layer Type="Quad" OnCommand="stretchto,0,0,sw,sh;diffusealpha,0;" Photo1Command="playcommand,Flash" Photo2Command="playcommand,Flash" Photo3Command="playcommand,Flash"
		FlashCommand="diffusealpha,1;linear,.2;diffusealpha,0;" />
		
	</children> </Layer>
	
	<!--interlude, decide to visit jail, because i do what i want -soofi -->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene12=self; self:hidden(1) end"> <children>
	
		<Layer File="space6" OnCommand="zoom,2;basezoomx,sw/640;x,sw/2;y,sh/2;customtexturerect,0,0,2,2;texcoordvelocity,0,.06" />
	
		<Layer File="jail_outer" OnCommand="x,sw/2;y,sh/2+80;zoom,.95;" UpCommand="rotationz,10;sleep,15*6/14;linear,8*6/14;rotationz,0;" />
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2-80;y,sh*0.5;zoom,.7;"
		JailLandCommand="playcommand,TravelUpI;x,sw/2;y,sh/2;
			decelerate,45/140;addx,-100;addy,-50;rotationz,20;zoom,.6;
			decelerate,45/140;addx,150;addy,60;rotationz,-20;zoom,.5;
			decelerate,30/140;addx,-100;addy,60;rotationz,20;zoom,.3;
			decelerate,60/140;x,sw/2+32;y,sh/2+80+16;rotationz,0;zoom,0;
		"><children>
			<Layer File="ship_default" NameCommand="%function(self) end" OnCommand="zoom,1;vertalign,bottom;addy,100;diffusealpha,0;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_ligma" OnCommand="vertalign,bottom;addy,100;diffusealpha,0;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
		</children> </Layer>
		
		<Layer File="space5" OnCommand="zoom,6;basezoomx,sw/640;x,sw/2;y,sh/2;diffusealpha,0;customtexturerect,0,0,4,4;texcoordvelocity,.04,0;"
		WowCommand="diffusealpha,1;" JailLandCommand="hidden,1;"/>
		
		<Layer File="ship_large_wow" OnCommand="hidden,1;x,sw/2;y,sh/2+40;zoom,.9;" WowCommand="hidden,0;" JailLandCommand="hidden,1;" />
		<Layer File="ship_large_ligma" WowCommand="hidden,0;" JailLandCommand="hidden,1;"
		OnCommand="hidden,1;x,sw/2;y,sh/2+40;zoom,.9;diffusealpha,.6;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;" />
		
		<Layer File="space5" OnCommand="zoom,4;basezoomx,sw/640;x,sw/2;y,sh/2;diffusealpha,0;customtexturerect,0,0,4,4;texcoordvelocity,.5,0;"
		TravelUpCommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2-80;y,sh*0.5;zoom,.7;wag;effectclock,bgm;effectmagnitude,0,0,8;effectperiod,4;"
		TravelUpCommand="playcommand,TravelUpI;x,-100;linear,16*60/140;x,sw+100" ><children>
			<Layer File="ship_default" NameCommand="%function(self) end" OnCommand="zoom,1;vertalign,bottom;addy,100;diffusealpha,0;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_ligma" OnCommand="vertalign,bottom;addy,100;diffusealpha,0;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
		</children> </Layer>
		
	</children> </Layer>
	
	<!-- in jail -->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene13=self; self:hidden(1) end"> <children>
	
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2" UpCommand="linear,17*6/14;zoom,64/80" ><children>
			
			<Layer File="jail_inner" OnCommand="zoomx,sw/640;zoomy,sh/480;" />
			
		</children></Layer>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2+160.0*.6;y,sh/2+90;zoom,.5;" ><children>
			<Layer File="jail_bol" NameCommand="%function(self) pl_scene13_mz=self; end"
			OnCommand="bob;effectclock,bgm;effectperiod,2;effectmagnitude,0,-10,0;animate,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2-160.0*.6;y,sh/2+90;zoom,.5;" ><children>
			<Layer File="jail_mz" NameCommand="%function(self) pl_scene13_bol=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-20,0;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2+80;zoom,.6;" ><children>
			<Layer File="jail_soofi" NameCommand="%function(self) pl_scene13_soofi=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-24,0;" />
		</children></Layer>
		
	</children> </Layer>
	
	
	<!--omygod earth???? -soofi -->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene14=self; self:hidden(1) end"> <children>
		
		<Layer Type="ActorFrame" OnCommand="hidden,1" UpCommand="sleep,7/14;queuecommand,UnHide" UnHideCommand="hidden,0;"><children>
			
			<LAER File="space8" OnCommand="zoomto,SCREEN_WIDTH*1.8,SCREEN_HEIGHT*1.8;diffuse,.6,.6,.6,1;x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y;spin;effectmagnitude,0,0,4;" />
			<LAER File="earth_fromspace" OnCommand="x,SCREEN_CENTER_X;y,SCREEN_HEIGHT+60;spin;effectmagnitude,0,0,-4;" />
			
		</children> </Layer>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh*0.5;zoom,.9;"
		EarthLandCommand="playcommand,TravelUpI;
			decelerate,6/14;x,sw/2-160;y,sh/2;rotationz,20;zoom,.7;
			decelerate,6/14;x,sw/2+100;y,sh/2+90;rotationz,-20;zoom,.5;
			decelerate,6/14;x,sw/2-40;y,sh/2+180;rotationz,20;zoom,.3;
		"><children>
			<Layer File="ship_default" NameCommand="%function(self) end" OnCommand="zoom,1;vertalign,bottom;addy,100;diffusealpha,0;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_ligma" OnCommand="vertalign,bottom;addy,100;diffusealpha,0;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
		</children> </Layer>
		
		<Layer File="space5" OnCommand="zoom,6;basezoomx,sw/640;x,sw/2;y,sh/2;diffusealpha,0;customtexturerect,0,0,4,4;texcoordvelocity,.04,0;"
		WowCommand="diffusealpha,1;" EarthLandCommand="hidden,1;"/>
		
		<Layer File="ship_large_wow" OnCommand="hidden,1;x,sw/2;y,sh/2+40;zoom,1;" WowCommand="hidden,0;" EarthLandCommand="hidden,1;" />
		<Layer File="ship_large_ligma" WowCommand="hidden,0;" EarthLandCommand="hidden,1;"
		OnCommand="hidden,1;x,sw/2;y,sh/2+40;zoom,1;diffusealpha,.6;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;" />
		
		<Layer File="space5" OnCommand="zoom,4;basezoomx,sw/640;x,sw/2;y,sh/2;diffusealpha,0;customtexturerect,0,0,4,4;texcoordvelocity,.5,0;"
		TravelUpCommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,0/140;diffusealpha,0;"/>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2-80;y,sh*0.5;zoom,.7;wag;effectclock,bgm;effectmagnitude,0,0,8;effectperiod,4;"
		TravelUpCommand="playcommand,TravelUpI;x,sw/2+80;linear,9*60/140;x,sw/2-80" ><children>
			<Layer File="ship_default" NameCommand="%function(self) end" OnCommand="zoom,1;vertalign,bottom;addy,100;diffusealpha,0;"
			TravelUpICommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,0/140;diffusealpha,0;"/>
			<Layer File="ship_ligma" OnCommand="vertalign,bottom;addy,100;diffusealpha,0;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;"
			TravelUpICommand="linear,60/140;diffusealpha,1;" TravelDownCommand="linear,0/140;diffusealpha,0;"/>
		</children> </Layer>
		
	</children> </Layer>
	
	<!--earth !!!!!-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene15=self; self:hidden(1) end"> <children>
		<Layer File="earth_sky" OnCommand="stretchto,0,0,sw,sh;" />
		
		<Layer File="earth_mountain1" OnCommand="x,sw/2;y,sh/2;zoomx,sw/640;zoomy,sh/480;addy,-150;" />
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2;addy,-160;" UpCommand="linear,25*6/14;zoom,76/80" ><children>
			<Layer File="earth_treeline2" OnCommand="diffuse,.1*.6,.1*.6,.1*1,1;basezoomx,80/64;basezoomy,80/64;zoomx,sw/640;zoomy,sh/480;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2;addy,-160;" UpCommand="linear,25*6/14;zoom,72/80" ><children>
			<Layer File="earth_treeline1" OnCommand="diffuse,.25*.6,.25*.6,.25*1,1;basezoomx,80/64;basezoomy,80/64;zoomx,sw/640;zoomy,sh/480;" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2;zoom,1.2;" UpCommand="linear,25*6/14;zoom,64/80" ><children>
			<Layer File="earth_grass" OnCommand="zoomx,sw/640;zoomy,sh/480;" />
		</children></Layer>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2+160.0*.6;y,sh/2+90;zoom,.5;"
		HypeCommand="x,sw/2+96-64+math.random()*128;y,sh/2+90-math.random()*100;rotationz,-30+60*math.random()"><children>
			<Layer File="bolegdeh" NameCommand="%function(self) pl_scene15_mz=self; end"
			OnCommand="bob;effectclock,bgm;effectperiod,2;effectmagnitude,0,-10,0;animate,0;" StopCommand="stopeffect" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2-160.0*.6;y,sh/2+90;zoom,.5;"
		HypeCommand="x,sw/2-96-64+math.random()*128;y,sh/2+90-math.random()*100;rotationz,-30+60*math.random()"><children>
			<Layer File="make_zifd" NameCommand="%function(self) pl_scene15_bol=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-20,0;" StopCommand="stopeffect" />
		</children></Layer>
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2+80;zoom,.6;"
		HypeCommand="x,sw/2-64+math.random()*128;y,sh/2+80-math.random()*100;rotationz,-30+60*math.random()"><children>
			<Layer File="soofi" NameCommand="%function(self) pl_scene15_soofi=self; end"
			OnCommand="bounce;effectperiod,.5;effectdelay,.5;effectoffset,.5;effectclock,bgm;effectmagnitude,0,-24,0;" StopCommand="stopeffect" />
		</children></Layer>
		
	</children> </Layer>
	
	<!--let's drop everyone back home-->
	<!--drop bolegdeh-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene16=self; self:hidden(1) end"> <children>
		
		<Layer File="beachbg" OnCommand="stretchto,0,0,sw,sh;" />
		
		<Layer Type="ActorFrame" OnCommand="hidden,1;" DropMZCommand="playcommand,DM;hidden,0;decelerate,4/14;addy,-100;accelerate,4/14;addy,100;"><children>
			<Layer File="make_zifd" OnCommand="basezoomx,.3;basezoomy,.3;x,sw/2-80;y,sh*.66;"
			DMCommand="linear,8/14;addx,120;addy,30;zoom,1.3;rotationz,360;sleep,0;zoomx,1.6;zoomy,1;addy,20;decelerate,.3;zoom,1.3;addy,-20;" />
		</children> </Layer>
		
		<Layer Type="ActorFrame" OnCommand="x,-100;y,sh*0.5;zoom,.8;"
		UpCommand="playcommand,TravelUpI;decelerate,12/14;x,sw/2-80;y,sh*.66;sleep,12/14;accelerate,18/14;x,-100;y,sh*0.5;" ><children>
			<Layer File="bolegdeh" OnCommand="animate,0;zoom,.35;vertalign,bottom;x,22;y,-89;addy,100;diffusealpha,0;cropbottom,.3;fadebottom,.1;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="make_zifd" OnCommand="animate,0;zoom,.35;vertalign,bottom;x,-28;y,-53;addy,100;diffusealpha,0;cropbottom,.4;fadebottom,.1;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;" DropMZCommand="diffusealpha,0;" />
			<Layer File="soofi" OnCommand="zoom,.4;vertalign,bottom;y,-50;addy,100;diffusealpha,0;cropbottom,.4;fadebottom,.1;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_main" NameCommand="%function(self) end" OnCommand="zoom,1;vertalign,bottom;addy,100;diffusealpha,0;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_ligma" OnCommand="vertalign,bottom;addy,100;diffusealpha,0;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
		</children> </Layer>
		
	</children> </Layer>
	
	<!--drop make & zifd-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene17=self; self:hidden(1) end"> <children>
		
		<Layer File="bol_sky2" OnCommand="stretchto,0,0,sw,sh;" />
		
		<Layer File="bolegdeh" OnCommand="animate,0;zoom,.6;x,sw/2-30;y,sh/2;diffusealpha,0;pulse;
			effectclock,bgm;effectperiod,2;effectmagnitude,1,1,1;effectcolor1,1.08,.92,1,1;effectcolor2,.92,1.08,1,1;"
		DropBolCommand="sleep,9/14;linear,6/14;diffusealpha,1;" />
		
		<Layer Type="ActorFrame" OnCommand="x,sw+100;y,sh*0.5;zoom,1;"
		UpCommand="playcommand,TravelUpI;decelerate,12/14;x,sw/2+120;y,sh*.7;sleep,24/14;bouncebegin,12/14;x,sw+160;y,sh*0.5;rotationz,360;" ><children>
			<Layer File="bolegdeh" OnCommand="animate,0;zoom,.35;vertalign,bottom;x,22;y,-89;addy,100;diffusealpha,0;cropbottom,.3;fadebottom,.1;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" DropBolCommand="linear,6/14;diffusealpha,0;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="soofi" OnCommand="zoom,.4;vertalign,bottom;y,-50;addy,100;diffusealpha,0;cropbottom,.4;fadebottom,.1;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_main" NameCommand="%function(self) end" OnCommand="zoom,1;vertalign,bottom;addy,100;diffusealpha,0;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_ligma" OnCommand="vertalign,bottom;addy,100;diffusealpha,0;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
		</children> </Layer>
		
	</children> </Layer>
	
	<!--return home-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene18=self; self:hidden(1) end"> <children>
		
		<Layer File="skyback" OnCommand="stretchto,0,0,sw,sh" />
		<Layer File="clouds" OnCommand="basezoomx,2;zoom,1.4;diffusealpha,.3;blend,add;customtexturerect,0,0,2,1;x,sw/2;y,sh/2-80;texcoordvelocity,.04,0;"
		UpCommand="linear,8*60/140;addy,-40;" />
		
		
		
		<Layer Type="ActorFrame" OnCommand="addy,100;" UpCommand="y,100;sleep,3*6/14;linear,3*6/14;y,40;" ><children>
			<Layer File="ending_buildings" NameCommand="%function(self) pl_eb1=self end"
			OnCommand="customtexturerect,0,0,4,1;texcoordvelocity,-.5,0;zoomx,4;basezoomx,1;basezoomy,1;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.9,.5*.9,.9*.9,1;" />
			<Layer File="ending_lights" NameCommand="%function(self) pl_eb2=self end"
			OnCommand="customtexturerect,0,0,4,1;texcoordvelocity,-.5,0;zoomx,4;basezoomx,1;basezoomy,1;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>
		<Layer Type="ActorFrame" OnCommand="addy,200;" UpCommand="y,200;sleep,3*6/14;linear,3*6/14;y,80;" ><children>
			<Layer File="ending_buildings" NameCommand="%function(self) pl_eb3=self end"
			OnCommand="customtexturerect,0,0,3,1;texcoordvelocity,.5,0;zoomx,3;basezoomx,-1.25;basezoomy,1;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.7,.5*.7,.9*.7,1;" />
			<Layer File="ending_lights" NameCommand="%function(self) pl_eb4=self end"
			OnCommand="customtexturerect,0,0,3,1;texcoordvelocity,.5,0;zoomx,3;basezoomx,-1.25;basezoomy,1;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>
		<Layer Type="ActorFrame" OnCommand="addy,300;" UpCommand="y,300;sleep,3*6/14;linear,3*6/14;y,120;" ><children>
			<Layer File="ending_buildings" NameCommand="%function(self) pl_eb5=self end"
			OnCommand="customtexturerect,0,0,2,1;texcoordvelocity,-.5,0;zoomx,2;basezoomx,1.5;basezoomy,1.5;vertalign,bottom;x,sw/2;y,sh;diffuse,.7*.5,.5*.5,.9*.5,1;" />
			<Layer File="ending_lights" NameCommand="%function(self) pl_eb6=self end"
			OnCommand="customtexturerect,0,0,2,1;texcoordvelocity,-.5,0;zoomx,2;basezoomx,1.5;basezoomy,1.5;vertalign,bottom;x,sw/2;y,sh;" />
		</children> </Layer>
		
		<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene18i2=self; end" UpCommand="playcommand,U2;x,-1536;sleep,18/14;decelerate,18/14;x,-1024+240;"> <children>
			<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene18i=self; self:addy(400) end" U2Command="sleep,18/15;linear,18/14;addy,-400;"> <children>
				
				<Layer File="stop smoking MOM" OnCommand="vertalign,bottom;x,1056;y,sh*0.84-5;zoom,.7" />
				
				<Layer File="intro_balcony" OnCommand="horizalign,left;x,1024;y,sh/2;" />
				<Layer File="intro_room" OnCommand="horizalign,left;x,0;y,sh/2;" />
				
				<Layer File="intro_alphabet" OnCommand="x,560;y,sh/2-60;" />
				
				<Layer File="vinespha" OnCommand="x,588;y,sh*0.8;vertalign,bottom;zoom,.6;animate,0;wag;effectperiod,2;effectclock,bgm;effectmagnitude,0,0,5;"
				UpCommand="bounceend,.4;addy,-74;" DownCommand="bouncebegin,.4;addy,74;" EVinCommand="setstate,1" />
				<Layer File="intro_cot" OnCommand="horizalign,left;x,521;y,sh*0.8-40;" />
				
				<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene18_soofi=self; end"
				NoLigCommand="playcommand,NL;"><children>
				<Layer Type="ActorFrame" OnCommand="%function(self) self:hidden(1) pl_scene18_soofi4=self; end"
				NLCommand="hidden,0;decelerate,6/14;addy,-100;accelerate,6/14;addy,100"><children>
				<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene18_soofi2=self; end"
					BounceCommand="sleep,0;rotationz,-10;x,-10;y,-10;sleep,30/140;rotationz,0;x,0;y,0;sleep,30/140;
									rotationz,10;x,10;y,-10;sleep,30/140;rotationz,0;x,0;y,0;sleep,30/140;queuecommand,Bounce;"
					StopBounceCommand="x,0;y,0;rotationz,0;"><children>
					
					<Layer File="soofi" NameCommand="%function(self) pl_scene18_soofi3=self; end" OnCommand="zoom,.3;diffuse,0,0,0,1;" />
					
				</children> </Layer>
				</children> </Layer>
				</children> </Layer>
				
				
				
			</children> </Layer>
		</children> </Layer>
		
		
		
		<Layer Type="ActorFrame" OnCommand="x,sw+100;y,sh*0.5;zoom,.7;" ShipOffCommand="linear,42/14;addx,(1024-240)"
		UpCommand="playcommand,TravelUpI;linear,18/14;x,sw/2+150;linear,18/14;y,sh*0.68" ><children>
			<Layer File="soofi" OnCommand="zoom,.4;vertalign,bottom;y,-50;addy,100;diffuse,0,0,0,0;cropbottom,.4;fadebottom,.1;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;" NoLigCommand="diffusealpha,0;" />
			<Layer File="ship_sil" NameCommand="%function(self) end" OnCommand="zoom,1;vertalign,bottom;addy,100;diffusealpha,0;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;"/>
			<Layer File="ship_ligma" OnCommand="vertalign,bottom;addy,100;diffusealpha,0;blend,add;diffuseshift;effectcolor1,1,1,1,.6;effectcolor2,1,1,1,.3;effectperiod,.4;"
			TravelUpICommand="linear,0/140;diffusealpha,1;" TravelDownCommand="linear,60/140;diffusealpha,0;" NoLigCommand="linear,.3;diffusealpha,0;" />
		</children> </Layer>
		
	</children> </Layer>
	
	<!--back to bed... but it's time to wake up again!!!-->
	<Layer Type="ActorFrame" OnCommand="%function(self) pl_scene19=self; self:hidden(1) end"> <children>
		
		<Layer Type="ActorFrame" OnCommand="x,sw/2;y,sh/2;zoom,64/80;" UpCommand="playcommand,U2;linear,3*60/140;zoom,72/80;" ><children>
			<Layer File="intro_floor" OnCommand="stretchto,0,0,sw*80/64,sh*80/64;addx,-sw/2*(80/64);addy,-sh/2*(80/64);" />
			
			<Layer File="intro_clock_frame" OnCommand="x,90;y,-140;" />
			<Layer File="intro_clock_time" DCommand="stopeffect;setstate,1;" U2Command="sleep,3*60/140;queuecommand,D"
			OnCommand="x,90;y,-180;blend,add;zoom,.8;animate,0;diffuseblink;effectperiod,.25;effectcolor1,1,1,1,1;effectcolor2,1,1,1,0;" />
			
			<Layer File="intro_bed" OnCommand="y,50;" />
			<Layer File="intro_soof" VibCommand="setstate,1;" U2Command="sleep,3*60/140;queuecommand,Vib;"
			OnCommand="x,-130;y,-40;animate,0;" />
			<Layer File="intro_blanket" OnCommand="y,50;" />
		</children> </Layer>
		
	</children> </Layer>
	
	<Layer Type="Quad" NameCommand="%function(self) pl_bgcover=self end" UpCommand="linear,60/140;diffusealpha,0.4;"
	DownCommand="linear,50/140;diffusealpha,1;" Down225Command="linear,(2.2*60)/140;diffusealpha,1;"
	OnCommand="diffuse,0,0,0,1;stretchto,0,0,sw,sh;sleep,240/140;linear,60/140;diffusealpha,0.4;" />

</children> </ActorFrame>