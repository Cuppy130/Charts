<Layer Type="ActorFrame" InitCommand="%function(self) yin_temple = self; self:hidden(1) self:SetFarDist(10000) end"
OnCommand="xy,sw/2,sh/2;fov,60;" ><children>

	<Layer Type="Quad" OnCommand="hidden,1" InitCommand="%function(self)
		
		yin_fire = {}
		function yin_add_fire(obj)
			table.insert(yin_fire,obj)
		end
		
	end"/>
	
	<Layer File="wall1" Var="yin_temple_wall1" OnCommand="x,-sw/2;y,-256+128;rotationy,90;zoomz,4;z,-512;croptop,.04;fadeleft,.3;" />
	<Layer File="wall1" Var="yin_temple_wall2" OnCommand="x,sw/2;y,-256+128;rotationy,90;zoomz,4;z,-512;croptop,.04;fadeleft,.3;" />
	
	<Layer File="floor" Var="yin_temple_floor1" OnCommand="x,-sw/2 + 96*(sw/640);zoomx,.75*(sw/640);zoomz,4;rotationx,-90;y,128;zoomz,4;z,-512;fadetop,.3;" />
	<Layer File="floor" Var="yin_temple_floor2" OnCommand="x,sw/2 - 96*(sw/640);basezoomx,-1;zoomx,.75*(sw/640);zoomz,4;rotationx,-90;y,128;zoomz,4;z,-512;fadetop,.3;" />
	
	<Layer File="waterwall" Var="yin_temple_wall3" OnCommand="x,-sw/2+192*(sw/640);y,128+128;rotationy,90;zoomz,4;z,-512;croptop,0;fadeleft,.3;" />
	<Layer File="waterwall" Var="yin_temple_wall4" OnCommand="x,sw/2-192*(sw/640);y,128+128;rotationy,90;zoomz,4;z,-512;croptop,0;fadeleft,.3;" />
	
	<Layer File="wf-cascade" Var="yin_temple_stream" OnCommand="diffuse,.5,.3,.2,1;zoomz,4;zoomx,(1)*(sw/640);rotationx,-90;y,256-64;zoomz,4;z,-512;fadetop,.3;" />
	
	<Layer File="fire" OnCommand="blend,add;setstate,3;z,0;zoom,.4;zoomy,.25;diffusealpha,.5;queuecommand,Make"
	HideCommand="" MakeCommand="%function(self) yin_add_fire(self) end" />
	<Layer File="fire" OnCommand="blend,add;setstate,1;z,0;zoom,.4;zoomy,.25;diffusealpha,.5;queuecommand,Make"
	HideCommand="" MakeCommand="%function(self) yin_add_fire(self) end" />
	<Layer File="fire" OnCommand="blend,add;setstate,2;z,-512;zoom,.4;zoomy,.25;diffusealpha,.5;queuecommand,Make"
	HideCommand="" MakeCommand="%function(self) yin_add_fire(self) end" />
	<Layer File="fire" OnCommand="blend,add;setstate,0;z,-512;zoom,.4;zoomy,.25;diffusealpha,.5;queuecommand,Make"
	HideCommand="" MakeCommand="%function(self) yin_add_fire(self) end" />
	<Layer File="fire" OnCommand="blend,add;setstate,4;z,-1024;zoom,.4;zoomy,.25;diffusealpha,.5;queuecommand,Make"
	HideCommand="" MakeCommand="%function(self) yin_add_fire(self) end" />
	<Layer File="fire" OnCommand="blend,add;setstate,2;z,-1024;zoom,.4;zoomy,.25;diffusealpha,.5;queuecommand,Make"
	HideCommand="" MakeCommand="%function(self) yin_add_fire(self) end" />
	
</children></Layer>