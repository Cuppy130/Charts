<ActorFrame><children>

	<Layer
		Type="Quad"
		InitCommand="hidden,1"
		OnCommand="sleep,119.76 + (60 / 160 * 2)"
	/>
	
	<Layer
		Type="Quad"
		InitCommand="hidden,1"
		OnCommand="%function(self)
				fgcurcommand = 1;
				checked = false;
				prefix_time = 0;
				prefix_inc = 0;
				prefix_modulus = 0;
				prefix_glitchphase = 1;
				
				prefix_curmessage = 1;
				
				
				prefix_messages = {
					{72.014,'LevelTextFadeIn'},
					{74.264,'Flash'},
					
					{77.076,'080'},
					{79.326,'096'},
					{81.201,'112'},
					{82.808,'128'},
					{84.215,'144'},
					{85.465,'160'},
					{86.590,'176'},
					{87.612,'192'},
					{88.550,'208'},
					{89.415,'224'},
					{90.219,'240'},
					{90.969,'244'},
					{91.706,'248'},
					{92.432,'252'},
					{93.147,'255'},
					
					{93.852,'OhShit'},
					
					{93.852,'Vib'},
					
					{101.361,'PerspectiveResetVib'},
					{102.997,'PerspectiveResetVib'},
					{104.497,'PerspectiveResetVib'},
					{107.906,'PerspectiveResetVib'},
					{109.406,'PerspectiveResetVib'},
					{111.043,'PerspectiveResetVib'},
					
					{113.770,'Bonnnngggg'},
				};
				
				
				prefix_mods = {
				
				{0,200,'3x,-999999% Cover,*10000 No Beat','end'},
				
				{10.781,20.156,'*0.5334 50% Mini,*0.05334 -5% Flip,*0.5334 50% Distant,*0.5334 50% Tipsy,*0.5334 50% Bumpy','end'},
				{20.156,23.639,'*0.431 -100% Mini,*0.0431 10% Flip,*0.1436 No Distant,*0.1436 No Tipsy,*0.1436 No Bumpy','end'},
				
				{23.639,240/160/8,'*5.3334 No Mini,*0.53334 No Flip','len'},
				
				{23.639,200,'*4 2x','end'},
				
				{24.389,240/160/16,'*10000 20% Hallway','len'},
				{24.389+240/160/16,240/160/16,'*10000 40% Hallway','len'},
				{24.389+240/160/16*2,240/160/16,'*10000 60% Hallway','len'},
				{24.389+240/160/16*3,240/160/16,'*10000 80% Hallway','len'},
				{24.389+240/160/16*4,32.264,'*10000 Hallway','end'},
				
				{24.389+240/160/16*4,32.639,'*2.6667 Drunk,*1.3334 -50% Expand','end'},
				
				{32.264,240/160/12,'*10000 75% Hallway','len'},
				{32.264+240/160/12,240/160/12,'*10000 50% Hallway','len'},
				{32.264+240/160/12*2,240/160/12,'*10000 25% Hallway','len'},
				{32.264+240/160/12*3,240/160/12,'*10000 No Hallway','len'},
				
				{32.639,240/160/4*3,'*0.4445 No Expand','len'},
				
				{32.639,240/160/16,'*21.3334 -100% Drunk','len'},
				{32.639+240/160/16,240/160/16,'*21.3334 Drunk','len'},
				{32.639+240/160/16*2,240/160/16,'*21.3334 -100% Drunk','len'},
				{32.639+240/160/16*3,240/160/16,'*21.3334 Drunk','len'},
				{32.639+240/160/16*4,240/160/16,'*21.3334 -100% Drunk','len'},
				{32.639+240/160/16*5,240/160/16,'*21.3334 Drunk','len'},
				{32.639+240/160/16*6,240/160/16,'*21.3334 -100% Drunk','len'},
				{32.639+240/160/16*7,240/160/16,'*21.3334 Drunk','len'},
				{32.639+240/160/16*8,240/160/16,'*21.3334 -100% Drunk','len'},
				{32.639+240/160/16*9,240/160/16,'*21.3334 Drunk','len'},
				{32.639+240/160/16*10,240/160/16,'*21.3334 -100% Drunk','len'},
				{32.639+240/160/16*11,240/160/16,'*21.3334 Drunk','len'},
				{32.639+240/160/16*12,240/160/16,'*10.6667 No Drunk','len'},
				
				{32.639,240/160*6,'*0.8 90% Stealth,*0.6667 75% Brake','len'},
				
				{33.764,240/160/4*21,'*1.231 90% Stealth','len'},
				
				{33.764,0.050,'*10000 50% Stealth','len'},
				{35.639,0.050,'*10000 50% Stealth','len'},
				{36.014,0.050,'*10000 50% Stealth','len'},
				{37.139,0.050,'*10000 50% Stealth','len'},
				{38.826,0.050,'*10000 50% Stealth','len'},
				{39.389,0.050,'*10000 50% Stealth','len'},
				{39.951,0.050,'*10000 50% Stealth','len'},
				{40.514,0.050,'*10000 50% Stealth','len'},
				{41.639,0.050,'*10000 50% Stealth','len'},
				
				{42.014,240/160/4*23,'*1.3334 Distant,*2.6667 200% Wave,*0.6667 50% Bumpy','len'},
				
				{47.451,240/160/4,'*10000 400% Beat','len'},
				{47.451+240/160/4,240/160/4,'*10000 -400% Beat','len'},
				
				{48.576,240/160/4,'*10000 400% Beat','len'},
				{48.576+240/160/4,240/160/4,'*10000 -400% Beat','len'},
				
				{50.639,240/160/4*3,'*0.8889 No Distant,*1.7778 No Wave,*0.4445 No Bumpy','len'},
				
				{51.764,240/160/4*23,'*2.6667 Dark,*2.6667 Mini,*0.26667 -10% Flip,*0.6667 25% Tornado','len'},
				{60.389,240/160/4,'*2.6667 No Dark,*2.6667 No Mini,*0.26667 No Flip,*0.6667 No Tornado','len'},
				
				{60.764,240/160*3,'*0.6667 25% Drunk','len'},
				
				{65.264,240/160*3,'*0.2222 Stealth','len'},
				{69.764,240/160/4*6,'*0.4444 No Stealth','len'},
				
				{69.764,200,'1.5x','end'},
				
				{72.014,93.852,'*0.3333 75% Mini','end'},
				
				{82.808,93.852,'*1.0667 50% Drunk','end'},
				{87.612,93.852,'*3.2 Bumpy','end'},
				{90.969,93.852,'*6.38467 -157% Dizzy','end'},
				
				{93.852,96.899,'*10000 0.1x','end'},
				
				{96.899,1,'*10000 No Bumpy,*10000 No Drunk,*10000 No Dizzy,*10000 No Tipsy,*10000 No Tornado','len'},
				
				{96.899,99.043,'*10000 200% Mini,*10000 1.5x','end'},
				
				{99.043,240/220/4*3,'*3.6667 No Mini','len'},
				
				{93.852,99.861,'Blind','end'},
				
				{99.861,240/220/4,'*3.6667 50% Hallway','len'},
				{99.861+240/220/4,240/220/4,'*3.6667 Hallway','len'},
				{99.861+240/220/4*2,240/220/4,'*3.6667 150% Hallway','len'},
				{99.861+240/220/4*3,240/220/8*5,'*3.6667 200% Hallway','len'},
				{99.861+240/220/4*5.5,240/220/8,'*29.3334 No Hallway','len'},
				
				{101.497,240/220/4,'*3.6667 50% Distant','len'},
				{101.497+240/220/4,240/220/4,'*3.6667 Distant','len'},
				{101.497+240/220/4*2,240/220/4,'*3.6667 150% Distant','len'},
				{101.497+240/220/4*3,240/220/8*5,'*3.6667 200% Distant','len'},
				{101.497+240/220/4*5.5,240/220/8,'*29.3334 No Distant','len'},
				
				{103.134,240/220/4,'*3.6667 50% Hallway','len'},
				{103.134+240/220/4,240/220/4,'*3.6667 Hallway','len'},
				{103.134+240/220/4*2,240/220/4,'*3.6667 150% Hallway','len'},
				{103.134+240/220/4*3,240/220/8*5,'*3.6667 200% Hallway','len'},
				{103.134+240/220/4*5,240/220/4,'*29.3334 No Hallway','len'},
				
				{104.770,240/220/8*3,'*7.3334 300% Drunk','len'},
				{104.770+240/220/8*3,240/220/8*3,'*7.3334 No Drunk','len'},
				
				{105.588,240/220/4,'*9.1667 -125% Mini,*0.9167 12.5% Flip','len'},
				{105.588+240/220/4,240/220/4,'*9.1667 -250% Mini,*0.9167 25% Flip','len'},
				{105.588+240/220/4*2,240/220/4,'*18.3334 No Mini,*1.8334 No Flip','len'},
				
				{106.406,240/220/4,'*3.6667 50% Distant','len'},
				{106.406+240/220/4,240/220/4,'*3.6667 Distant','len'},
				{106.406+240/220/4*2,240/220/4,'*3.6667 150% Distant','len'},
				{106.406+240/220/4*3,240/220/8*5,'*3.6667 200% Distant','len'},
				{106.406+240/220/4*5.5,240/220/8,'*29.3334 No Distant','len'},
				
				{108.043,240/220/4,'*3.6667 50% Hallway','len'},
				{108.043+240/220/4,240/220/4,'*3.6667 Hallway','len'},
				{108.043+240/220/4*2,240/220/4,'*3.6667 150% Hallway','len'},
				{108.043+240/220/4*3,240/220/8*5,'*3.6667 200% Hallway','len'},
				{108.043+240/220/4*5,240/220/4,'*29.3334 No Hallway','len'},
				
				{109.679,240/220/4,'*3.6667 50% Distant','len'},
				{109.679+240/220/4,240/220/4,'*3.6667 Distant','len'},
				{109.679+240/220/4*2,240/220/4,'*3.6667 150% Distant','len'},
				{109.679+240/220/4*3,240/220/8*5,'*3.6667 200% Distant','len'},
				{109.679+240/220/4*5,240/220/4,'*29.3334 No Distant','len'},
				
				{111.315,240/220/4,'*3.6667 50% Hallway','len'},
				{111.315+240/220/4,240/220/4,'*3.6667 Hallway','len'},
				{111.315+240/220/4*2,240/220/4,'*3.6667 150% Hallway','len'},
				{111.315+240/220/4*3,240/220/4,'*3.6667 Hallway,*7.3334 -100% Mini,*0.7334 10% Flip,*4 1.25x','len'},
				{111.315+240/220/4*4,240/220/4,'*3.6667 50% Hallway,*7.3334 -200% Mini,*0.7334 20% Flip,*4 1x','len'},
				{111.315+240/220/4*5,240/220,'*3.6667 No Hallway,*7.3334 -300% Mini,*0.7334 30% Flip,*4 0.75x','len'},
				
				{113.634,113.986,'*10000 1500% Beat','end'},
				{113.497,240/220/4,'*11 No Mini,*1.1 No Flip','len'},
				
				{115.065,0.1,'*100 16.6667% Invert','len'},
				{116.360,0.1,'*100 33.3334% Invert','len'},
				{117.655,0.1,'*100 50% Invert','len'},
				
				}
				
				for i = 60.764,65.263,240/160/4 do
					table.insert(prefix_mods,{i+240/160/8*0,240/160/8,'*2.6667 No Brake,*2.6667 Boost','len'});
					table.insert(prefix_mods,{i+240/160/8*1,240/160/8,'*2.6667 Brake,*2.6667 No Boost','len'});
				end
				
				
				prefix_plr = {};
				
				self:queuecommand('Update');
			end"
		
		UpdateCommand="%function(self)
		
			local beat = GAMESTATE:GetSongBeat();
			
			-----------------------
			-- Player mod resets --
			-----------------------
			GAMESTATE:ApplyGameCommand('mod,clearall')
			prefix_inc = prefix_inc + 1;
			
			--------------------------------------------------------------------------------------------
			-- Mod reader code originally coded by Taronuke, remade to support end times and lengths. --
			--------------------------------------------------------------------------------------------
			for i,v in pairs(prefix_mods) do
				if prefix_time >=v[1] then
					if (v[4] == 'len' and prefix_time <=v[1]+v[2]) or (v[4] == 'end' and prefix_time <=v[2]) then
						if table.getn(v) == 5 then
							GAMESTATE:ApplyGameCommand('mod,'..v[3],v[5]);
						else
							GAMESTATE:ApplyGameCommand('mod,'..v[3]);
						end
					end
				end
			end
			
			
			
			if beat >= 0 and not checked then
				
				table.insert(prefix_plr,SCREENMAN:GetTopScreen():GetChild('PlayerP1'));
				table.insert(prefix_plr,SCREENMAN:GetTopScreen():GetChild('PlayerP2'));
				checked = true;
				
				SCREENMAN:GetTopScreen():GetChild('Overlay'):hidden(1);
				SCREENMAN:GetTopScreen():GetChild('Underlay'):hidden(1);
				for i,v in pairs(prefix_plr) do
					local multi = -1; if i == 2 then multi = 1; end
					if v then
						v:rotationx(0);							
						v:rotationy(0);
						v:rotationz(0);
						v:x(SCREEN_CENTER_X+160*multi);
						v:y(SCREEN_CENTER_Y);
						v:zoomx(1);
						v:zoomy(1);
						v:zoomz(1);
						v:GetChild('Judgment'):stopeffect();
						
						SCREENMAN:GetTopScreen():GetChild('ScoreP'..i):hidden(1);
						SCREENMAN:GetTopScreen():GetChild('LifeP'..i):hidden(1);
						
					end
				end
			end
			
			if beat >= 242 and fgcurcommand == 1 then
				for i=1,4 do
					_G['continew_glitch'..i]:diffusealpha(0);
				end
			end
			
			
			-------------------------
			-- BEAT SPECIFIC STUFF --
			-------------------------
			if beat >= 180 and beat < 228 then
				for i,v in pairs(prefix_plr) do
					if v then
						v:y(SCREEN_CENTER_Y+10-(math.abs(math.sin(beat*math.pi))*20))
					end
				end
			end
			
			if beat >= 180 and beat < 180.5 or beat >= 183 and beat < 183.5 or 
			beat >= 186 and beat < 186.5 or beat >= 189 and beat < 189.5 or 
			beat >= 192 and beat < 192.5 or beat >= 195 and beat < 195.5 or 
			beat >= 198 and beat < 198.5 or beat >= 201 and beat < 201.5 or 
			beat >= 204 and beat < 204.5 or beat >= 207 and beat < 207.5 or 
			beat >= 210 and beat < 210.5 or beat >= 213 and beat < 213.5 or 
			beat >= 216 and beat < 216.5 or beat >= 219 and beat < 219.5 or 
			beat >= 222 and beat < 222.5 then
				MESSAGEMAN:Broadcast('VibControl');
			end
			
			if beat >= 228 and beat < 241 then
				local multi = -1/2; if math.mod(prefix_inc,2) == 0 then multi = 1; end
				if math.mod(prefix_inc,3) == 0 then multi = 1/2; end
				if math.mod(prefix_inc,4) == 0 then multi = -1; end
				GAMESTATE:ApplyGameCommand('mod,*10000 '..1000*multi..'% Bumpy');
				GAMESTATE:ApplyGameCommand('mod,*10000 '..1000*multi..'% Drunk');
				GAMESTATE:ApplyGameCommand('mod,*10000 '..1000*multi..'% Tipsy');
				GAMESTATE:ApplyGameCommand('mod,*10000 '..1000*multi..'% Tornado');
				GAMESTATE:ApplyGameCommand('mod,*10000 '..1000*multi..'% Dizzy');
			end
			
			if beat >= 228 and beat < 243 then
				SCREENMAN:GetTopScreen():vibrate();
				SCREENMAN:GetTopScreen():effectmagnitude(auxvar:getaux(),auxvar:getaux(),0);
			end
			
			if beat >= 228 and beat < 242 then
				local time = math.floor(math.mod(beat,1)*4)/16;
				if prefix_modulus ~= time then
					prefix_modulus = time;
					prefix_glitchphase = prefix_glitchphase + 1;
					for i=1,4 do
						_G['continew_glitch'..i]:diffusealpha(0);
					end
					_G['continew_glitch'..math.mod(prefix_glitchphase,4)+1]:diffusealpha(1);
				end
			end
			
			if beat >= 252 and beat < 318 then
				for i,v in pairs(prefix_plr) do
					if v then
						v:vibrate();
						v:effectmagnitude(auxvar:getaux(),0,0);
					end
				end
			end
			
			if beat >= 315 and beat < 320 then
				SCREENMAN:GetTopScreen():vibrate();
				SCREENMAN:GetTopScreen():effectmagnitude(0,auxvar:getaux(),0);
				for i,v in pairs(prefix_plr) do
					if v then
						v:vibrate();
						v:effectmagnitude(0,0,0);
					end
				end
			end

			
			--------------------------------------------------------------
			-- Message reader to make specific values of the actor aux. --
			--------------------------------------------------------------
			if prefix_curmessage <= table.getn(prefix_messages) then
				if prefix_time >= prefix_messages[prefix_curmessage][1] then
					MESSAGEMAN:Broadcast(prefix_messages[prefix_curmessage][2]);
					prefix_curmessage = prefix_curmessage + 1;
				end
			end
			
			self:queuecommand('Update2');
			
		end"


		Update2Command="%function(self)
		self:sleep(0.02);
		self:queuecommand('Update');
		end"

	/>
	
	<BitmapText
		Font="Common Normal"
		Text="test"
		OnCommand="x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y;effectclock,music;playcommand,SetTime;hidden,1"
		SetTimeCommand="%function(self) self:settext(self:GetSecsIntoEffect()); prefix_time = PREFSMAN:GetPreference('GlobalOffsetSeconds') - (-0.457 - -0.041) + tonumber(self:GetText()); self:sleep(0.02); self:queuecommand('SetTime'); end"
	/>
	
	<!-- Aux actor, VERY IMPORTANT -->
	<Layer
		Type="Quad"
		OnCommand=""
		InitCommand="%function(self) auxvar = self; self:hidden(1) end"
		VibMessageCommand="finishtweening;aux,20;sleep,240/256/4*14;aux,0"
		PerspectiveResetVibMessageCommand="finishtweening;aux,100;linear,240/220/8;aux,0"
		BonnnnggggMessageCommand="finishtweening;aux,0;accelerate,240/139*3;aux,25;sleep,0;linear,240/139/32;aux,200;linear,240/139/32*7;aux,0"
	/>
	
	<Layer
		File="whiteflash"
		OnCommand="%function(self)
		self:stretchto(0,0,SCREEN_WIDTH,SCREEN_HEIGHT);
		self:diffusealpha(0); end"
		FlashMessageCommand="%function(self)
		self:diffusealpha(1);
		self:sleep(0.05);
		self:linear(240/64/8);
		self:diffusealpha(0); end"
	/>
	
	<Layer
		File="arcadetext/level"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y-56);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		LevelTextFadeInMessageCommand="%function(self)
		self:linear(240/80/4*3);
		self:diffusealpha(0.75); end"
		OhShitMessageCommand="%function(self)
		self:diffusealpha(0); end"
	/>
	
	<Layer
		File="arcadetext/064"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		FlashMessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		080MessageCommand="%function(self)
		self:diffusealpha(0); end"
	/>
	
	<Layer
		File="arcadetext/080"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		080MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		096MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/096"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		096MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		112MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/112"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		112MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		128MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/128"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		128MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		144MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/144"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		144MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		160MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/160"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		160MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		176MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/176"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		176MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		192MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/192"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		192MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		208MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/208"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		208MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		224MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/224"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		224MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		240MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/240"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		240MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		244MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/244"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		244MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		248MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/248"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		248MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		252MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/252"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		252MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		255MessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="arcadetext/255"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X);
		self:y(SCREEN_CENTER_Y);
		self:zoom(0.75);
		self:diffusealpha(0); end"
		255MessageCommand="%function(self)
		self:diffusealpha(0.75); end"
		OhShitMessageCommand="%function(self)
		self:diffusealpha(0); end"
		VibControlMessageCommand="%function(self)
		self:vibrate();
		self:effectmagnitude(0,math.max(8-math.mod(GAMESTATE:GetSongBeat(),0.5)*20,0),0); end"
	/>
	
	<Layer
		File="vhs"
		OnCommand="x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y;zoomto,SCREEN_WIDTH,SCREEN_HEIGHT;blend,add;diffusealpha,0"
		OhShitMessageCommand="diffusealpha,240;sleep,0.18;diffusealpha,0"
	/>
	
</children></ActorFrame>